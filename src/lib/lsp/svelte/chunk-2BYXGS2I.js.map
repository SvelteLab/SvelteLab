{"version":3,"sources":["../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/is.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/messages.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/linkedMap.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/disposable.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/ral.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/events.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/cancellation.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/sharedArrayCancellation.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/semaphore.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/messageReader.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/messageWriter.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/connection.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/common/api.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/browser/ril.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/browser/main.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/node.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/node/ril.js","../../../../../svelte-language-server-web/node_modules/vscode-jsonrpc/lib/node/main.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/node_modules/vscode-languageserver-types/lib/esm/main.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/messages.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/protocol.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/connection.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/common/api.js","../../../../../svelte-language-server-web/node_modules/vscode-languageserver-protocol/lib/node/main.js"],"names":["require_is","__commonJSMin","exports","init_Buffer","init_process","boolean","value","string","number","error","func","array","stringArray","elem","require_messages","is","ErrorCodes","ResponseError","_ResponseError","code","message","data","result","ParameterStructures","_ParameterStructures","kind","AbstractMessageSignature","method","numberOfParams","RequestType0","RequestType","_parameterStructures","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","NotificationType","NotificationType0","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","Message","isRequest","candidate","isNotification","isResponse","require_linkedMap","_a","Touch","LinkedMap","key","touch","item","callbackfn","thisArg","state","current","iterator","newSize","currentSize","next","previous","LRUCache","limit","ratio","require_disposable","Disposable","create","require_ral","_ral","RAL","install","ral","require_events","ral_1","Event","_disposable","CallbackList","callback","context","bucket","foundCallbackWithDifferentContext","i","len","args","ret","callbacks","contexts","e","Emitter","_Emitter","_options","listener","thisArgs","disposables","event","require_cancellation","Is","events_1","CancellationToken","shortcutEvent","handle","MutableToken","CancellationTokenSource","require_sharedArrayCancellation","cancellation_1","CancellationState","SharedArraySenderStrategy","request","buffer","_conn","id","SharedArrayBufferCancellationToken","SharedArrayBufferCancellationTokenSource","SharedArrayReceiverStrategy","require_semaphore","Semaphore","capacity","thunk","resolve","reject","err","require_messageReader","semaphore_1","MessageReader","AbstractMessageReader","info","ResolvedMessageReaderOptions","fromOptions","options","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","decoder","ReadableStreamMessageReader","readable","timeout","headers","contentLength","length","body","bytes","token","require_messageWriter","ContentLength","CRLF","MessageWriter","AbstractMessageWriter","count","ResolvedMessageWriterOptions","WriteableStreamMessageWriter","writable","msg","require_messageBuffer","CR","LF","AbstractMessageBuffer","encoding","chunk","toAppend","lowerCaseKeys","chunkIndex","offset","chunkBytesRead","row","header","index","byteCount","resultOffset","chunkPart","require_connection","messages_1","linkedMap_1","CancelNotification","ProgressToken","ProgressNotification","ProgressType","StarRequestHandler","Trace","TraceValues","fromString","toString","TraceFormat","SetTraceNotification","LogTraceNotification","ConnectionErrors","ConnectionError","_ConnectionError","ConnectionStrategy","IdCancellationReceiverStrategy","RequestCancellationReceiverStrategy","CancellationReceiverStrategy","_","CancellationSenderStrategy","conn","CancellationStrategy","MessageStrategy","ConnectionOptions","ConnectionState","createMessageConnection","messageReader","messageWriter","_logger","logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","version","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","timer","messageQueue","responsePromises","knownCanceledRequests","requestTokens","trace","traceFormat","tracer","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","cancellationStrategy","createRequestQueueKey","createResponseQueueKey","createNotificationQueueKey","addMessageToQueue","queue","cancelUndispatched","_message","isListening","isClosed","isDisposed","closeHandler","readErrorHandler","writeErrorHandler","triggerMessageQueue","processMessageQueue","handleMessage","handleRequest","handleNotification","handleResponse","handleInvalidMessage","messageStrategy","cancelId","toCancel","strategy","response","traceSendingResponse","cancellationToken","traceReceivedNotification","requestMessage","reply","resultOrError","startTime","replyError","replySuccess","traceReceivedRequest","element","type","requestHandler","tokenKey","cancellationSource","handlerResult","promise","responseMessage","responsePromise","traceReceivedResponse","notificationHandler","params","responseHandler","stringifyTrace","traceSendingRequest","logLSPMessage","traceSendingNotification","lspMessage","throwIfClosedOrDisposed","throwIfListening","throwIfNotListening","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","parameterStructures","computeMessageParams","connection","messageParams","first","paramStart","paramEnd","notificationMessage","handler","_type","last","disposable","p","resolveWithCleanup","r","rejectWithCleanup","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","verbose","require_api","disposable_1","sharedArrayCancellation_1","messageReader_1","messageWriter_1","messageBuffer_1","connection_1","require_ril","api_1","MessageBuffer","_MessageBuffer","_encoding","ReadableStreamWrapper","socket","WritableStreamWrapper","_textEncoder","_ril","ms","RIL","require_main","__createBinding","o","m","k","k2","desc","__exportStar","ril_1","BrowserMessageReader","port","BrowserMessageWriter","reader","writer","require_node","module","util_1","Buffer","stream","path","os","crypto_1","net_1","IPCMessageReader","process","eventEmitter","IPCMessageWriter","PortMessageReader","PortMessageWriter","SocketMessageReader","SocketMessageWriter","StreamMessageReader","StreamMessageWriter","XDG_RUNTIME_DIR","safeIpcPathLengths","generateRandomPipeName","randomSuffix","createClientPipeTransport","pipeName","connectResolve","connected","_reject","server","createServerPipeTransport","createClientSocketTransport","createServerSocketTransport","isReadableStream","isWritableStream","input","output","main_exports","__export","AnnotatedTextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","CodeAction","CodeActionContext","CodeActionKind","CodeActionTriggerKind","CodeDescription","CodeLens","Color","ColorInformation","ColorPresentation","Command","CompletionItem","CompletionItemKind","CompletionItemLabelDetails","CompletionItemTag","CompletionList","CreateFile","DeleteFile","Diagnostic","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","DocumentHighlight","DocumentHighlightKind","DocumentLink","DocumentSymbol","DocumentUri","EOL","FoldingRange","FoldingRangeKind","FormattingOptions","Hover","InlayHint","InlayHintKind","InlayHintLabelPart","InlineValueContext","InlineValueEvaluatableExpression","InlineValueText","InlineValueVariableLookup","InsertReplaceEdit","InsertTextFormat","InsertTextMode","Location","LocationLink","MarkedString","MarkupContent","MarkupKind","OptionalVersionedTextDocumentIdentifier","ParameterInformation","Position","Range","RenameFile","SelectionRange","SemanticTokenModifiers","SemanticTokenTypes","SemanticTokens","SignatureInformation","SymbolInformation","SymbolKind","SymbolTag","TextDocument","TextDocumentEdit","TextDocumentIdentifier","TextDocumentItem","TextEdit","URI","VersionedTextDocumentIdentifier","WorkspaceChange","WorkspaceEdit","WorkspaceFolder","WorkspaceSymbol","integer","uinteger","TextEditChangeImpl","ChangeAnnotations","FullTextDocument","init_main","__esmMin","line","character","one","two","three","four","uri","range","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","color","label","textEdit","additionalTextEdits","startLine","endLine","startCharacter","endCharacter","collapsedText","location","severity","source","relatedInformation","title","command","_i","replace","newText","insert","position","del","needsConfirmation","description","annotation","textDocument","edits","oldUri","newUri","change","changeAnnotations","edit","annotations","idOrAnnotation","workspaceEdit","_this","textEditChange","textDocumentEdit","optionsOrAnnotation","operation","languageId","text","items","isIncomplete","fromPlainText","plainText","documentation","parameters","name","containerName","detail","selectionRange","children","diagnostics","only","triggerKind","kindOrCommandOrEdit","checkKind","tabSize","insertSpaces","target","parent","variableName","caseSensitiveLookup","expression","frameId","stoppedLocation","content","applyEdits","document","sortedEdits","mergeSort","a","b","diff","lastModifiedOffset","startOffset","endOffset","compare","left","right","leftIdx","rightIdx","start","end","lineOffsets","isLineStart","ch","low","high","mid","lineOffset","nextLineOffset","defined","undefined","numberRange","min","max","objectLiteral","typedArray","check","vscode_jsonrpc_1","MessageDirection","RegistrationType","ProtocolRequestType0","ProtocolRequestType","ProtocolNotificationType0","ProtocolNotificationType","require_protocol_implementation","ImplementationRequest","require_protocol_typeDefinition","TypeDefinitionRequest","require_protocol_workspaceFolder","WorkspaceFoldersRequest","DidChangeWorkspaceFoldersNotification","require_protocol_configuration","ConfigurationRequest","require_protocol_colorProvider","DocumentColorRequest","ColorPresentationRequest","require_protocol_foldingRange","FoldingRangeRequest","require_protocol_declaration","DeclarationRequest","require_protocol_selectionRange","SelectionRangeRequest","require_protocol_progress","WorkDoneProgress","WorkDoneProgressCreateRequest","WorkDoneProgressCancelNotification","require_protocol_callHierarchy","CallHierarchyPrepareRequest","CallHierarchyIncomingCallsRequest","CallHierarchyOutgoingCallsRequest","require_protocol_semanticTokens","TokenFormat","SemanticTokensRegistrationType","SemanticTokensRequest","SemanticTokensDeltaRequest","SemanticTokensRangeRequest","SemanticTokensRefreshRequest","require_protocol_showDocument","ShowDocumentRequest","require_protocol_linkedEditingRange","LinkedEditingRangeRequest","require_protocol_fileOperations","FileOperationPatternKind","WillCreateFilesRequest","DidCreateFilesNotification","WillRenameFilesRequest","DidRenameFilesNotification","DidDeleteFilesNotification","WillDeleteFilesRequest","require_protocol_moniker","UniquenessLevel","MonikerKind","MonikerRequest","require_protocol_typeHierarchy","TypeHierarchyPrepareRequest","TypeHierarchySupertypesRequest","TypeHierarchySubtypesRequest","require_protocol_inlineValue","InlineValueRequest","InlineValueRefreshRequest","require_protocol_inlayHint","InlayHintRequest","InlayHintResolveRequest","InlayHintRefreshRequest","require_protocol_diagnostic","DiagnosticServerCancellationData","DocumentDiagnosticReportKind","DocumentDiagnosticRequest","WorkspaceDiagnosticRequest","DiagnosticRefreshRequest","require_protocol_notebook","vscode_languageserver_types_1","NotebookCellKind","ExecutionSummary","executionOrder","success","equals","other","NotebookCell","equalsMetadata","oneArray","otherArray","oneKeys","otherKeys","prop","NotebookDocument","notebookType","cells","NotebookDocumentSyncRegistrationType","DidOpenNotebookDocumentNotification","NotebookCellArrayChange","deleteCount","DidChangeNotebookDocumentNotification","DidSaveNotebookDocumentNotification","DidCloseNotebookDocumentNotification","require_protocol","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","TextDocumentFilter","NotebookDocumentFilter","NotebookCellTextDocumentFilter","DocumentSelector","RegistrationRequest","UnregistrationRequest","ResourceOperationKind","FailureHandlingKind","PositionEncodingKind","StaticRegistrationOptions","hasId","TextDocumentRegistrationOptions","WorkDoneProgressOptions","hasWorkDoneProgress","InitializeRequest","InitializeErrorCodes","InitializedNotification","ShutdownRequest","ExitNotification","DidChangeConfigurationNotification","MessageType","ShowMessageNotification","ShowMessageRequest","LogMessageNotification","TelemetryEventNotification","TextDocumentSyncKind","DidOpenTextDocumentNotification","TextDocumentContentChangeEvent","isIncremental","isFull","DidChangeTextDocumentNotification","DidCloseTextDocumentNotification","DidSaveTextDocumentNotification","TextDocumentSaveReason","WillSaveTextDocumentNotification","WillSaveTextDocumentWaitUntilRequest","DidChangeWatchedFilesNotification","FileChangeType","RelativePattern","WatchKind","PublishDiagnosticsNotification","CompletionTriggerKind","CompletionRequest","CompletionResolveRequest","HoverRequest","SignatureHelpTriggerKind","SignatureHelpRequest","DefinitionRequest","ReferencesRequest","DocumentHighlightRequest","DocumentSymbolRequest","CodeActionRequest","CodeActionResolveRequest","WorkspaceSymbolRequest","WorkspaceSymbolResolveRequest","CodeLensRequest","CodeLensResolveRequest","CodeLensRefreshRequest","DocumentLinkRequest","DocumentLinkResolveRequest","DocumentFormattingRequest","DocumentRangeFormattingRequest","DocumentOnTypeFormattingRequest","PrepareSupportDefaultBehavior","RenameRequest","PrepareRenameRequest","ExecuteCommandRequest","ApplyWorkspaceEditRequest","createProtocolConnection","LSPErrorCodes","node_1"],"mappings":"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","sourcesContent":["\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message = exports.Message || (exports.Message = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = void 0;\nconst cancellation_1 = require(\"./cancellation\");\nvar CancellationState;\n(function (CancellationState) {\n    CancellationState.Continue = 0;\n    CancellationState.Cancelled = 1;\n})(CancellationState || (CancellationState = {}));\nclass SharedArraySenderStrategy {\n    constructor() {\n        this.buffers = new Map();\n    }\n    enableCancellation(request) {\n        if (request.id === null) {\n            return;\n        }\n        const buffer = new SharedArrayBuffer(4);\n        const data = new Int32Array(buffer, 0, 1);\n        data[0] = CancellationState.Continue;\n        this.buffers.set(request.id, buffer);\n        request.$cancellationData = buffer;\n    }\n    async sendCancellation(_conn, id) {\n        const buffer = this.buffers.get(id);\n        if (buffer === undefined) {\n            return;\n        }\n        const data = new Int32Array(buffer, 0, 1);\n        Atomics.store(data, 0, CancellationState.Cancelled);\n    }\n    cleanup(id) {\n        this.buffers.delete(id);\n    }\n    dispose() {\n        this.buffers.clear();\n    }\n}\nexports.SharedArraySenderStrategy = SharedArraySenderStrategy;\nclass SharedArrayBufferCancellationToken {\n    constructor(buffer) {\n        this.data = new Int32Array(buffer, 0, 1);\n    }\n    get isCancellationRequested() {\n        return Atomics.load(this.data, 0) === CancellationState.Cancelled;\n    }\n    get onCancellationRequested() {\n        throw new Error(`Cancellation over SharedArrayBuffer doesn't support cancellation events`);\n    }\n}\nclass SharedArrayBufferCancellationTokenSource {\n    constructor(buffer) {\n        this.token = new SharedArrayBufferCancellationToken(buffer);\n    }\n    cancel() {\n    }\n    dispose() {\n    }\n}\nclass SharedArrayReceiverStrategy {\n    constructor() {\n        this.kind = 'request';\n    }\n    createCancellationTokenSource(request) {\n        const buffer = request.$cancellationData;\n        if (buffer === undefined) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n        return new SharedArrayBufferCancellationTokenSource(buffer);\n    }\n}\nexports.SharedArrayReceiverStrategy = SharedArrayReceiverStrategy;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nconst semaphore_1 = require(\"./semaphore\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.readSemaphore = new semaphore_1.Semaphore(1);\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders(true);\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('content-length');\n                if (!contentLength) {\n                    this.fireError(new Error('Header must provide a Content-Length property.'));\n                    return;\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    this.fireError(new Error('Content-Length value must be a number.'));\n                    return;\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            // Make sure that we convert one received message after the\n            // other. Otherwise it could happen that a decoding of a second\n            // smaller message finished before the decoding of a first larger\n            // message and then we would deliver the second message first.\n            this.readSemaphore.lock(async () => {\n                const bytes = this.options.contentDecoder !== undefined\n                    ? await this.options.contentDecoder.decode(body)\n                    : body;\n                const message = await this.options.contentTypeDecoder.decode(bytes, this.options);\n                this.callback(message);\n            }).catch((error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders(lowerCaseKeys = false) {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(lowerCaseKeys ? key.toLowerCase() : key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.RequestCancellationReceiverStrategy = exports.IdCancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken = exports.ProgressToken || (exports.ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues = exports.TraceValues || (exports.TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar IdCancellationReceiverStrategy;\n(function (IdCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.kind === undefined || candidate.kind === 'id') && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    IdCancellationReceiverStrategy.is = is;\n})(IdCancellationReceiverStrategy = exports.IdCancellationReceiverStrategy || (exports.IdCancellationReceiverStrategy = {}));\nvar RequestCancellationReceiverStrategy;\n(function (RequestCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'request' && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    RequestCancellationReceiverStrategy.is = is;\n})(RequestCancellationReceiverStrategy = exports.RequestCancellationReceiverStrategy || (exports.RequestCancellationReceiverStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        return IdCancellationReceiverStrategy.is(value) || RequestCancellationReceiverStrategy.is(value);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar MessageStrategy;\n(function (MessageStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.handleMessage);\n    }\n    MessageStrategy.is = is;\n})(MessageStrategy = exports.MessageStrategy || (exports.MessageStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy) || MessageStrategy.is(candidate.messageStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function handleMessage(message) {\n        if (messages_1.Message.isRequest(message)) {\n            handleRequest(message);\n        }\n        else if (messages_1.Message.isNotification(message)) {\n            handleNotification(message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            handleResponse(message);\n        }\n        else {\n            handleInvalidMessage(message);\n        }\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            const messageStrategy = options?.messageStrategy;\n            if (MessageStrategy.is(messageStrategy)) {\n                messageStrategy.handleMessage(message, handleMessage);\n            }\n            else {\n                handleMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = IdCancellationReceiverStrategy.is(cancellationStrategy.receiver)\n                ? cancellationStrategy.receiver.createCancellationTokenSource(tokenKey)\n                : cancellationStrategy.receiver.createCancellationTokenSource(requestMessage);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch((error) => {\n                logger.error(`Sending notification failed.`);\n                throw error;\n            });\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            // This should not await but simple return to ensure that we don't have another\n            // async scheduling. Otherwise one send could overtake another send.\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const requestMessage = {\n                jsonrpc: version,\n                id: id,\n                method: method,\n                params: messageParams\n            };\n            traceSendingRequest(requestMessage);\n            if (typeof cancellationStrategy.sender.enableCancellation === 'function') {\n                cancellationStrategy.sender.enableCancellation(requestMessage);\n            }\n            return new Promise(async (resolve, reject) => {\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                try {\n                    await messageWriter.write(requestMessage);\n                    responsePromises.set(id, responsePromise);\n                }\n                catch (error) {\n                    logger.error(`Sending request failed.`);\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, error.message ? error.message : 'Unknown reason'));\n                    throw error;\n                }\n            });\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.AbstractMessageBuffer = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst sharedArrayCancellation_1 = require(\"./sharedArrayCancellation\");\nObject.defineProperty(exports, \"SharedArraySenderStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArraySenderStrategy; } });\nObject.defineProperty(exports, \"SharedArrayReceiverStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArrayReceiverStrategy; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst messageBuffer_1 = require(\"./messageBuffer\");\nObject.defineProperty(exports, \"AbstractMessageBuffer\", { enumerable: true, get: function () { return messageBuffer_1.AbstractMessageBuffer; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nObject.defineProperty(exports, \"MessageStrategy\", { enumerable: true, get: function () { return connection_1.MessageStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst api_1 = require(\"../common/api\");\nclass MessageBuffer extends api_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n        this.asciiDecoder = new TextDecoder('ascii');\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, _encoding) {\n        return (new TextEncoder()).encode(value);\n    }\n    toString(value, encoding) {\n        if (encoding === 'ascii') {\n            return this.asciiDecoder.decode(value);\n        }\n        else {\n            return (new TextDecoder(encoding)).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer;\n        }\n        else {\n            return buffer.slice(0, length);\n        }\n    }\n    allocNative(length) {\n        return new Uint8Array(length);\n    }\n}\nMessageBuffer.emptyBuffer = new Uint8Array(0);\nclass ReadableStreamWrapper {\n    constructor(socket) {\n        this.socket = socket;\n        this._onData = new api_1.Emitter();\n        this._messageListener = (event) => {\n            const blob = event.data;\n            blob.arrayBuffer().then((buffer) => {\n                this._onData.fire(new Uint8Array(buffer));\n            }, () => {\n                (0, api_1.RAL)().console.error(`Converting blob to array buffer failed.`);\n            });\n        };\n        this.socket.addEventListener('message', this._messageListener);\n    }\n    onClose(listener) {\n        this.socket.addEventListener('close', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('close', listener));\n    }\n    onError(listener) {\n        this.socket.addEventListener('error', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('error', listener));\n    }\n    onEnd(listener) {\n        this.socket.addEventListener('end', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('end', listener));\n    }\n    onData(listener) {\n        return this._onData.event(listener);\n    }\n}\nclass WritableStreamWrapper {\n    constructor(socket) {\n        this.socket = socket;\n    }\n    onClose(listener) {\n        this.socket.addEventListener('close', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('close', listener));\n    }\n    onError(listener) {\n        this.socket.addEventListener('error', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('error', listener));\n    }\n    onEnd(listener) {\n        this.socket.addEventListener('end', listener);\n        return api_1.Disposable.create(() => this.socket.removeEventListener('end', listener));\n    }\n    write(data, encoding) {\n        if (typeof data === 'string') {\n            if (encoding !== undefined && encoding !== 'utf-8') {\n                throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${encoding}`);\n            }\n            this.socket.send(data);\n        }\n        else {\n            this.socket.send(data);\n        }\n        return Promise.resolve();\n    }\n    end() {\n        this.socket.close();\n    }\n}\nconst _textEncoder = new TextEncoder();\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                if (options.charset !== 'utf-8') {\n                    throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${options.charset}`);\n                }\n                return Promise.resolve(_textEncoder.encode(JSON.stringify(msg, undefined, 0)));\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                if (!(buffer instanceof Uint8Array)) {\n                    throw new Error(`In a Browser environments only Uint8Arrays are supported.`);\n                }\n                return Promise.resolve(JSON.parse(new TextDecoder(options.charset).decode(buffer)));\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (socket) => new ReadableStreamWrapper(socket),\n        asWritableStream: (socket) => new WritableStreamWrapper(socket)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setTimeout(callback, 0, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        },\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        api_1.RAL.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.BrowserMessageWriter = exports.BrowserMessageReader = void 0;\nconst ril_1 = require(\"./ril\");\n// Install the browser runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"../common/api\"), exports);\nclass BrowserMessageReader extends api_1.AbstractMessageReader {\n    constructor(port) {\n        super();\n        this._onData = new api_1.Emitter();\n        this._messageListener = (event) => {\n            this._onData.fire(event.data);\n        };\n        port.addEventListener('error', (event) => this.fireError(event));\n        port.onmessage = this._messageListener;\n    }\n    listen(callback) {\n        return this._onData.event(callback);\n    }\n}\nexports.BrowserMessageReader = BrowserMessageReader;\nclass BrowserMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(port) {\n        super();\n        this.port = port;\n        this.errorCount = 0;\n        port.addEventListener('error', (event) => this.fireError(event));\n    }\n    write(msg) {\n        try {\n            this.port.postMessage(msg);\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.BrowserMessageWriter = BrowserMessageWriter;\nfunction createMessageConnection(reader, writer, logger, options) {\n    if (logger === undefined) {\n        logger = api_1.NullLogger;\n    }\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"util\");\nconst api_1 = require(\"../common/api\");\nclass MessageBuffer extends api_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return api_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        api_1.RAL.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.PortMessageWriter = exports.PortMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        const eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass PortMessageReader extends api_1.AbstractMessageReader {\n    constructor(port) {\n        super();\n        this.onData = new api_1.Emitter;\n        port.on('close', () => this.fireClose);\n        port.on('error', (error) => this.fireError(error));\n        port.on('message', (message) => {\n            this.onData.fire(message);\n        });\n    }\n    listen(callback) {\n        return this.onData.event(callback);\n    }\n}\nexports.PortMessageReader = PortMessageReader;\nclass PortMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(port) {\n        super();\n        this.port = port;\n        this.errorCount = 0;\n        port.on('close', () => this.fireClose());\n        port.on('error', (error) => this.fireError(error));\n    }\n    write(msg) {\n        try {\n            this.port.postMessage(msg);\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.PortMessageWriter = PortMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readable, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readable), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = (0, crypto_1.randomBytes)(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length > limit) {\n        (0, ril_1.default)().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * {@link Position} literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Position} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * {@link Range} literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Range} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * {@link Location} literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Location} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * {@link LocationLink} literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link LocationLink} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link Color} literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Color} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * {@link ColorInformation} literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * {@link ColorPresentation} literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * {@link FoldingRange} literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FoldingRange} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * {@link DiagnosticRelatedInformation} literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DiagnosticRelatedInformation} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * {@link Diagnostic} literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Diagnostic} interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * {@link Command} literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link Command} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \".concat(id, \" is already in use.\"));\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \".concat(id));\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying {@link WorkspaceEdit} literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * {@link TextDocumentIdentifier} literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link VersionedTextDocumentIdentifier} literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link VersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * {@link OptionalVersionedTextDocumentIdentifier} literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link OptionalVersionedTextDocumentIdentifier} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * {@link TextDocumentItem} literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link TextDocumentItem} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the {@link MarkupKind} type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the {@link MarkupContent} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InsertReplaceEdit} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        var candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the {@link MarkedString} type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the {@link Hover} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * {@link ParameterInformation} literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * {@link SignatureInformation} literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * {@link DocumentHighlight} literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name: name, kind: kind, location: { uri: uri, range: range } }\n            : { name: name, kind: kind, location: { uri: uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentSymbol} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * {@link CodeActionContext} literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeActionContext} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * {@link CodeLens} literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link CodeLens} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * {@link FormattingOptions} literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link FormattingOptions} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * {@link DocumentLink} literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link DocumentLink} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range: range, text: text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range: range, expression: expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * {@link InlineValueContext} literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId: frameId, stoppedLocation: stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link InlineValueContext} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value: value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        var result = { position: position, label: label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the {@link ITextDocument} interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection = exports.MessageDirection || (exports.MessageDirection = {}));\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type {@link Definition} or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type {@link Definition} or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type {@link DocumentColorParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type {@link ColorPresentationParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type {@link FoldingRangeParams}, the\n * response is of type {@link FoldingRangeList} or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type {@link Declaration}\n * or a typed array of {@link DeclarationLink} or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type {@link SelectionRangeParams}, the\n * response is of type {@link SelectionRange SelectionRange[]} or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * The request can return a `WorkspaceEdit` which will be applied to workspace before the\n * files are created. Hence the `WorkspaceEdit` can not manipulate the content of the file\n * to be created.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type {@link TextDocumentPositionParams}.\n * The response is of type {@link Moniker Moniker[]} or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest = exports.TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest = exports.TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest = exports.TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type {@link InlineValueParams}, the response is of type\n * {@link InlineValue InlineValue[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest = exports.InlineValueRequest || (exports.InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest = exports.InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = {}));\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type {@link InlayHintsParams}, the response is of type\n * {@link InlayHint InlayHint[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest = exports.InlayHintRequest || (exports.InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type {@link InlayHint}, the response is\n * of type {@link InlayHint} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest = exports.InlayHintResolveRequest || (exports.InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest = exports.InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData = exports.DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind = exports.DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest = exports.DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest = exports.WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest = exports.DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind = exports.NotebookCellKind || (exports.NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary = exports.ExecutionSummary || (exports.ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell = exports.NotebookCell || (exports.NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument = exports.NotebookDocument || (exports.NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType = exports.NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification = exports.DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange = exports.NotebookCellArrayChange || (exports.NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification = exports.DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = exports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * {@link TextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter = exports.TextDocumentFilter || (exports.TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * {@link NotebookDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter = exports.NotebookDocumentFilter || (exports.NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * {@link NotebookCellTextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter = exports.NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * {@link DocumentSelector}s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units (e.g. bytes).\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode codepoints,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind = exports.PositionEncodingKind || (exports.PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * {@link StaticRegistrationOptions} literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * {@link TextDocumentRegistrationOptions} literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * {@link WorkDoneProgressOptions} literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type {@link InitializeParams}\n * the response if of type {@link InitializeResult} of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes = exports.InitializeErrorCodes || (exports.InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern = exports.RelativePattern || (exports.RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response\n * is of type {@link CompletionItem CompletionItem[]} or {@link CompletionList}\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the {@link CompletionItem.detail `detail`}\n * and {@link CompletionItem.documentation `documentation`} properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type {@link CompletionItem} the response\n * is of type {@link CompletionItem} or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response is of\n * type {@link Hover} or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type {@link Definition}\n * or a typed array of {@link DefinitionLink} or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type {@link ReferenceParams} the response is of type\n * {@link Location Location[]} or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a {@link DocumentHighlight} for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type {@link TextDocumentIdentifier} the\n * response is of type {@link SymbolInformation SymbolInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type {@link CodeAction} the response\n * is of type {@link CodeAction} or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the {@link WorkspaceSymbolParams}. The response is\n * of type {@link SymbolInformation SymbolInformation[]} or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest = exports.WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type {@link DocumentLink} the response\n * is of type {@link DocumentLink} or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n"]}