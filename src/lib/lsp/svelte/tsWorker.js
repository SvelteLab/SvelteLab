import { a } from './chunk-RXXIDN55.js';
import { C, S, o, f, x, B, va, i, e as e$1, j as j$2, qa, ta, ua, k, q as q$1, sa, ra } from './chunk-D22XF2UN.js';
import { j as j$1, h, e } from './chunk-UCK3AE42.js';

new URL(import.meta.url).pathname; 
j$1();h();j$1();h();C();var u=e(a(),1),re=e(S(),1);o();f();j$1();h();var M=e(a(),1),q=(e,n,o)=>Math.min(Math.max(e,n),o);function Y(e,n,o=W(n)){e=q(e,0,n.length);let i=0,g=o.length;if(g===0)return M.Position.create(0,e);for(;i<=g;){let E=Math.floor((i+g)/2),F=o[E];if(F===e)return M.Position.create(E,0);e>F?i=E+1:g=E-1;}let D=i-1;return M.Position.create(D,e-o[D])}function I(e,n,o=W(n)){if(e.line>=o.length)return n.length;if(e.line<0)return 0;let i=o[e.line],g=e.line+1<o.length?o[e.line+1]:n.length;return q(g,i,i+e.character)}function W(e){let n=[],o=!0;for(let i=0;i<e.length;i++){o&&(n.push(i),o=!1);let g=e.charAt(i);o=g==="\r"||g===`
`,g==="\r"&&i+1<e.length&&e.charAt(i+1)===`
`&&i++;}return o&&e.length>0&&n.push(e.length),n}function Z(e,n){return n.substring(I(e.start,n),I(e.end,n))}j$1();h();var V=class{constructor(){this.version=0;}getTextLength(){return this.getText().length}positionAt(n){return Y(n,this.getText(),this.getLineOffsets())}offsetAt(n){return I(n,this.getText(),this.getLineOffsets())}getLineOffsets(){return this.lineOffsets||(this.lineOffsets=W(this.getText())),this.lineOffsets}get uri(){return this.getURL()}get lineCount(){return this.getText().split(/\r?\n/).length}},j=class extends V{update(n,o,i){this.lineOffsets=void 0;let g=this.getText();this.setText(g.slice(0,o)+n+g.slice(i));}};x();j$1();h();var l=e(S(),1);function ee(){let e=[];[[0,l.SemanticTokenModifiers.declaration],[1,l.SemanticTokenModifiers.static],[2,l.SemanticTokenModifiers.async],[3,l.SemanticTokenModifiers.readonly],[4,l.SemanticTokenModifiers.defaultLibrary],[5,"local"]].forEach(([o,i])=>e[o]=i);let n=[];return [[0,l.SemanticTokenTypes.class],[1,l.SemanticTokenTypes.enum],[2,l.SemanticTokenTypes.interface],[3,l.SemanticTokenTypes.namespace],[4,l.SemanticTokenTypes.typeParameter],[5,l.SemanticTokenTypes.type],[6,l.SemanticTokenTypes.parameter],[7,l.SemanticTokenTypes.variable],[8,l.SemanticTokenTypes.enumMember],[9,l.SemanticTokenTypes.property],[10,l.SemanticTokenTypes.function],[11,l.SemanticTokenTypes.method],[12,l.SemanticTokenTypes.event]].forEach(([o,i])=>n[o]=i),{tokenModifiers:e,tokenTypes:n}}function ue(e){switch(e){case B.ScriptElementKind.primitiveType:case B.ScriptElementKind.keyword:return u.CompletionItemKind.Keyword;case B.ScriptElementKind.constElement:return u.CompletionItemKind.Constant;case B.ScriptElementKind.letElement:case B.ScriptElementKind.variableElement:case B.ScriptElementKind.localVariableElement:case B.ScriptElementKind.alias:return u.CompletionItemKind.Variable;case B.ScriptElementKind.memberVariableElement:case B.ScriptElementKind.memberGetAccessorElement:case B.ScriptElementKind.memberSetAccessorElement:return u.CompletionItemKind.Field;case B.ScriptElementKind.functionElement:return u.CompletionItemKind.Function;case B.ScriptElementKind.memberFunctionElement:case B.ScriptElementKind.constructSignatureElement:case B.ScriptElementKind.callSignatureElement:case B.ScriptElementKind.indexSignatureElement:return u.CompletionItemKind.Method;case B.ScriptElementKind.enumElement:return u.CompletionItemKind.Enum;case B.ScriptElementKind.moduleElement:case B.ScriptElementKind.externalModuleName:return u.CompletionItemKind.Module;case B.ScriptElementKind.classElement:case B.ScriptElementKind.typeElement:return u.CompletionItemKind.Class;case B.ScriptElementKind.interfaceElement:return u.CompletionItemKind.Interface;case B.ScriptElementKind.warning:case B.ScriptElementKind.scriptElement:return u.CompletionItemKind.File;case B.ScriptElementKind.directory:return u.CompletionItemKind.Folder;case B.ScriptElementKind.string:return u.CompletionItemKind.Constant}return u.CompletionItemKind.Property}function te(e){return e?e.map(n=>n.text).join(""):""}function ge(e){let n=`*@${e.name}*`;if(e.name==="param"&&e.text){let[o,...i]=e.text;n+=`\`${o.text}\``,i.length>0&&(n+=` \u2014 ${i.map(g=>g.text).join(" ")}`);}else Array.isArray(e.text)?n+=` \u2014 ${e.text.map(o=>o.text).join(" ")}`:e.text&&(n+=` \u2014 ${e.text}`);return n}function ne(e,n){let o=e.positionAt(n.start),i=e.positionAt(n.start+n.length);return {start:o,end:i}}var $=class extends j{constructor(o,i,g,D){super();this._uri=o;this.languageId=i;this.version=g;this.content=D;}get uri(){return this._uri}getFilePath(){return this.uri.replace("file:///","/")}getText(o){return o?Z(o,this.content):this.content}getURL(){return new URL(this.uri).toString()}setText(o){this.content=o;}},H="/";B.matchFiles;var ie=({connection:e})=>{let n={},i$1=(()=>{var r=new Map;let a=0;function m(s){var c=e$1.readFile(s,"utf-8");if(c)return B.ScriptSnapshot.fromString(c.toString())}let h=()=>B.parseJsonConfigFileContent(B.readConfigFile("/tsconfig.json",B.sys.readFile).config,B.sys,"/",{allowJs:!0,baseUrl:".",allowNonTsExtensions:!0,target:B.ScriptTarget.Latest,noEmit:!0,declaration:!1,skipLibCheck:!0},"/tsconfig.json"),p={...h().options,allowJs:!0,baseUrl:".",allowNonTsExtensions:!0,target:B.ScriptTarget.Latest,noEmit:!0,declaration:!1,skipLibCheck:!0},d=B.createCompilerHost(p),x={log:s=>console.debug(`[ts] ${s}`),getCompilationSettings:()=>h().options,getScriptFileNames(){return Array.from(i("/")).filter(s=>!s.includes("/node_modules/")&&(s.endsWith(".ts")||s.endsWith(".tsx")||s.endsWith(".js")||s.endsWith(".jsx")||s.endsWith(".js")))},getCompilerHost(){return d},writeFile:(s,c)=>{B.sys.writeFile(s,c,!1),e$1.writeFile(s,c),d.writeFile(s,c,!1);},realpath:j$2,getScriptVersion:function(c){return r.get(c)||"0"},getScriptSnapshot:m,getCurrentDirectory(){return H},getDefaultLibFileName:B.getDefaultLibFilePath,fileExists:e$1.fileExists.bind(e$1),readFile:(s,c)=>e$1.readFile(s,c).toString(),readDirectory(s,c,L,C,N){return d.readDirectory(s,c,L,C,N)},getDirectories:(...s)=>e$1.getDirectories(...s).filter(c=>!c.includes("/node_modules/")),useCaseSensitiveFileNames:()=>B.sys.useCaseSensitiveFileNames,getScriptKind:function(c){switch(c.split(".").pop().toLowerCase()){case B.Extension.Js:return B.ScriptKind.JS;case B.Extension.Jsx:return B.ScriptKind.JSX;case B.Extension.Ts:return B.ScriptKind.TS;case B.Extension.Tsx:return B.ScriptKind.TSX;case B.Extension.Json:return B.ScriptKind.JSON;default:return B.ScriptKind.Unknown}},resolveModuleNameLiterals:d.resolveModuleNameLiterals,getProjectVersion:()=>a.toString(),getNewLine:()=>B.sys.newLine};return {...B.createLanguageService(x),updateFile:function(s,c){return this.createFile(s,c)},createFile:function(s,c){r.set(s,(r.get(s)||0)+1),e$1.writeFile(s,c),d.writeFile(s,c,!1),a++,qa(()=>ta(s,c),100);}}})();ua((r,a)=>{i$1.updateFile(k(r),a);}),globalThis.localStorage=globalThis.localStorage??{},e.onInitialize(()=>({capabilities:{textDocumentSync:{openClose:!0,change:re.TextDocumentSyncKind.Full,save:{includeText:!1}},workspaceSymbolProvider:{workDoneProgress:!0},documentFormattingProvider:!0,completionProvider:{resolveProvider:!0,completionItem:{labelDetailsSupport:!0},workDoneProgress:!0,triggerCharacters:[".",'"',"'","`","/","@","<",">","*","#","$","+","^","(","[","@","-",":","|"]},signatureHelpProvider:{triggerCharacters:["(",",","<"],retriggerCharacters:[")"]},semanticTokensProvider:{legend:ee(),range:!0,full:!0},referencesProvider:!0,selectionRangeProvider:!0,linkedEditingRangeProvider:!0,implementationProvider:!0,typeDefinitionProvider:!0,inlayHintProvider:!0,callHierarchyProvider:!0,hoverProvider:!0}}));function g(r,a){i$1.updateFile(r,a);}function D(r,a,m){let h=i$1.getCompletionsAtPosition(a,r,{includeCompletionsForImportStatements:!0,includeCompletionsForModuleExports:!0,triggerKind:m.context.triggerKind,includeCompletionsWithInsertText:!0,useLabelDetailsInCompletionEntries:!0,allowIncompleteCompletions:!1});return {items:h.entries.filter(p=>p!=null).map(p=>({...p,label:p.name,kind:ue(p.kind)})),isIncomplete:h.isIncomplete}}function E(r,a){return i$1.getQuickInfoAtPosition(a,r)}function F(r){if(!i$1)return;let a=i$1.getSyntacticDiagnostics(r),m=i$1.getSemanticDiagnostics(r),h=i$1.getSuggestionDiagnostics(r),p=[].concat(a,m,h).reduce((d,x)=>{let P=s=>{if(typeof s=="string")return [s];let c=[],L=C=>{c.push(C.messageText),C.next&&C.next.forEach(N=>{L(N);});};return L(s),c},w=[u.DiagnosticSeverity.Warning,u.DiagnosticSeverity.Error,u.DiagnosticSeverity.Information,u.DiagnosticSeverity.Hint];return P(x.messageText).forEach(s=>{d.push({range:ne(n[`file://${r}`],x),message:s,source:x?.source||"ts",severity:w[x.category]});}),d},[]);e.sendDiagnostics({uri:`file://${r}`,diagnostics:p});}e.onDidOpenTextDocument(r=>{let a=k(r.textDocument.uri),m=r.textDocument.text;n[r.textDocument.uri]||(n[r.textDocument.uri]=new $(r.textDocument.uri,r.textDocument.languageId,r.textDocument.version,m)),H=q$1(a),g(a,m),F(a),ta(a,m);}),e.onDidChangeTextDocument(r=>{let a=k(r.textDocument.uri),m=r.contentChanges[0].text;n[r.textDocument.uri].update(m,0,m.length),n[r.textDocument.uri].version++,H!==q$1(a)&&(H=q$1(a)),g(a,m),F(a),ta(a,m);}),e.onCompletion(r=>{let a=k(r.textDocument.uri);return D(n[r.textDocument.uri].offsetAt(r.position),a,r)}),e.onHover(sa(async({textDocument:r,position:a})=>{let m=k(r.uri),h=n[r.uri],p=E(h.offsetAt(a),m);if(!p)return;let d=te(p.documentation),x=p.tags?p.tags.map(w=>ge(w)).join(`  

`):"",P=te(p.displayParts);return ra({range:ne(n[r.uri],p.textSpan),contents:[{language:"typescript",value:"```typescript\n"+P+"\n```\n"},{language:"typescript",value:d+(x?`

`+x:"")}]})},100)),e.listen();};var v=e(S(),1),se=globalThis,me=(0, v.createConnection)(new v.BrowserMessageReader(se),new v.BrowserMessageWriter(se)),Ye=()=>va(ie,me,"TypeScript");

export { Ye as TypeScriptWorker };
