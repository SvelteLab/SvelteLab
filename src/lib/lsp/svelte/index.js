import { c, j, h as h$1, p, f, o, d, b, t, s, i, G as G$1, F, J, I, L, K, N, M, g, e, n } from './chunk-2LJLQ72Q.js';
export { l as createWorkerMessage, k as workerRPCMethods } from './chunk-2LJLQ72Q.js';

new URL(import.meta.url).pathname;
var Ba=c(We=>{j();h$1();var La=We&&We.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s);})}return new(n||(n=Promise))(function(s,o){function c(d){try{a(r.next(d));}catch(p){o(p);}}function l(d){try{a(r.throw(d));}catch(p){o(p);}}function a(d){d.done?s(d.value):i(d.value).then(c,l);}a((r=r.apply(t,e||[])).next());})},Fa=We&&We.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(d){return l([a,d])}}function l(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(n=0)),n;)try{if(r=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){n.label=a[1];break}if(a[0]===6&&n.label<s[1]){n.label=s[1],s=a;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(a);break}s[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n);}catch(d){a=[6,d],i=0;}finally{r=s=0;}if(a[0]&5)throw a[1];return {value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(We,"__esModule",{value:!0});We.defaultNextRequest=void 0;var Ml=(p(),f(o)),Il=function(){var t=-1;return function(){return ++t}};We.defaultNextRequest=Il;var jl=function(){function t(e,n){n===void 0&&(n=(0, We.defaultNextRequest)()),this.batch=[],this.batchStarted=!1,this.lastId=-1,this.transports=e,this.requests={},this.connectPromise=this.connect(),this.requestChannel=new Ml.EventEmitter,this.nextID=n;}return t.prototype.connect=function(){var e=this;return Promise.all(this.transports.map(function(n){return La(e,void 0,void 0,function(){return Fa(this,function(r){switch(r.label){case 0:return n.subscribe("error",this.handleError.bind(this)),n.subscribe("notification",this.handleNotification.bind(this)),[4,n.connect()];case 1:return r.sent(),[2]}})})}))},t.prototype.getPrimaryTransport=function(){return this.transports[0]},t.prototype.request=function(e,n,r){return n===void 0&&(n=!1),La(this,void 0,void 0,function(){var i,s,o,c,l=this;return Fa(this,function(a){return i=this.nextID().toString(),s=n?null:i,o={request:this.makeRequest(e.method,e.params||[],s),internalID:i},this.batchStarted?(c=new Promise(function(d,p){l.batch.push({resolve:d,reject:p,request:o});}),[2,c]):[2,this.getPrimaryTransport().sendData(o,r)]})})},t.prototype.close=function(){this.requestChannel.removeAllListeners(),this.transports.forEach(function(e){e.unsubscribe(),e.close();});},t.prototype.startBatch=function(){this.batchStarted=!0;},t.prototype.stopBatch=function(){if(this.batchStarted===!1)throw new Error("cannot end that which has never started");if(this.batch.length===0){this.batchStarted=!1;return}this.getPrimaryTransport().sendData(this.batch),this.batch=[],this.batchStarted=!1;},t.prototype.makeRequest=function(e,n,r){return r?{jsonrpc:"2.0",id:r,method:e,params:n}:{jsonrpc:"2.0",method:e,params:n}},t.prototype.handleError=function(e){this.requestChannel.emit("error",e);},t.prototype.handleNotification=function(e){this.requestChannel.emit("notification",e);},t}();We.default=jl;});var zt=c(he=>{j();h$1();var Al=he&&he.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i;}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e;}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(he,"__esModule",{value:!0});he.convertJSONToRPCError=he.JSONRPCError=he.ERR_UNKNOWN=he.ERR_MISSIING_ID=he.ERR_TIMEOUT=void 0;he.ERR_TIMEOUT=7777;he.ERR_MISSIING_ID=7878;he.ERR_UNKNOWN=7979;var yi=function(t){Al(e,t);function e(n,r,i){var s=this.constructor,o=t.call(this,n)||this;return o.message=n,o.code=r,o.data=i,Object.setPrototypeOf(o,s.prototype),o}return e}(Error);he.JSONRPCError=yi;var Ll=function(t){if(t.error){var e=t.error,n=e.message,r=e.code,i=e.data;return new yi(n,r,i)}return new yi("Unknown error",he.ERR_UNKNOWN,t)};he.convertJSONToRPCError=Ll;});var Wa=c(dr=>{j();h$1();Object.defineProperty(dr,"__esModule",{value:!0});dr.TransportRequestManager=void 0;var Fl=(p(),f(o)),Vt=zt(),Bl=function(){function t(){this.pendingRequest={},this.pendingBatchRequest={},this.transportEventChannel=new Fl.EventEmitter;}return t.prototype.addRequest=function(e,n){return this.transportEventChannel.emit("pending",e),e instanceof Array?(this.addBatchReq(e,n),Promise.resolve()):this.addReq(e.internalID,n)},t.prototype.settlePendingRequest=function(e,n){var r=this;e.forEach(function(i){var s=r.pendingRequest[i.internalID];if(delete r.pendingBatchRequest[i.internalID],s!==void 0){if(n){s.reject(n);return}s.resolve(),(i.request.id===null||i.request.id===void 0)&&delete r.pendingRequest[i.internalID];}});},t.prototype.isPendingRequest=function(e){return this.pendingRequest.hasOwnProperty(e)},t.prototype.resolveResponse=function(e,n){n===void 0&&(n=!0);var r=e;try{return r=JSON.parse(e),this.checkJSONRPC(r)===!1?void 0:r instanceof Array?this.resolveBatch(r,n):this.resolveRes(r,n)}catch{var i=new Vt.JSONRPCError("Bad response format",Vt.ERR_UNKNOWN,e);return n&&this.transportEventChannel.emit("error",i),i}},t.prototype.addBatchReq=function(e,n){var r=this;return e.forEach(function(i){var s=i.resolve,o=i.reject,c=i.request.internalID;r.pendingBatchRequest[c]=!0,r.pendingRequest[c]={resolve:s,reject:o};}),Promise.resolve()},t.prototype.addReq=function(e,n){var r=this;return new Promise(function(i,s){n!==null&&n&&r.setRequestTimeout(e,n,s),r.pendingRequest[e]={resolve:i,reject:s};})},t.prototype.checkJSONRPC=function(e){var n=[e];return e instanceof Array&&(n=e),n.every(function(r){return r.result!==void 0||r.error!==void 0||r.method!==void 0})},t.prototype.processResult=function(e,n){if(e.error){var r=(0, Vt.convertJSONToRPCError)(e);n.reject(r);return}n.resolve(e.result);},t.prototype.resolveBatch=function(e,n){var r=this,i=e.map(function(o){return r.resolveRes(o,n)}),s=i.filter(function(o){return o});if(s.length>0)return s[0]},t.prototype.resolveRes=function(e,n){var r=e.id,i=e.error,s=this.pendingRequest[r];if(s){delete this.pendingRequest[r],this.processResult(e,s),this.transportEventChannel.emit("response",e);return}if(r===void 0&&i===void 0){this.transportEventChannel.emit("notification",e);return}var o;return i&&(o=(0, Vt.convertJSONToRPCError)(e)),n&&i&&o&&this.transportEventChannel.emit("error",o),o},t.prototype.setRequestTimeout=function(e,n,r){var i=this;setTimeout(function(){delete i.pendingRequest[e],r(new Vt.JSONRPCError("Request timeout request took longer than ".concat(n," ms to resolve"),Vt.ERR_TIMEOUT));},n);},t}();dr.TransportRequestManager=Bl;});var Gt=c(hr=>{j();h$1();Object.defineProperty(hr,"__esModule",{value:!0});hr.Transport=void 0;var Wl=Wa(),Jl=function(){function t(){this.transportRequestManager=new Wl.TransportRequestManager,this.transportRequestManager.transportEventChannel.on("error",function(){});}return t.prototype.subscribe=function(e,n){this.transportRequestManager.transportEventChannel.addListener(e,n);},t.prototype.unsubscribe=function(e,n){if(!e)return this.transportRequestManager.transportEventChannel.removeAllListeners();e&&n&&this.transportRequestManager.transportEventChannel.removeListener(e,n);},t.prototype.parseData=function(e){return e instanceof Array?e.map(function(n){return n.request.request}):e.request},t}();hr.Transport=Jl;});var Qt=c(Je=>{j();h$1();Object.defineProperty(Je,"__esModule",{value:!0});Je.getNotifications=Je.getBatchRequests=Je.isNotification=void 0;var Ul=function(t){return t.request.id===void 0||t.request.id===null};Je.isNotification=Ul;var Hl=function(t){return t instanceof Array?t.filter(function(e){var n=e.request.request.id;return n!=null}).map(function(e){return e.request}):[]};Je.getBatchRequests=Hl;var $l=function(t){return t instanceof Array?t.filter(function(e){return (0, Je.isNotification)(e.request)}).map(function(e){return e.request}):(0, Je.isNotification)(t)?[t]:[]};Je.getNotifications=$l;});var Ua=c(Tn=>{j();h$1();var zl=Tn&&Tn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i;}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e;}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(Tn,"__esModule",{value:!0});var Vl=Gt(),Gl=Qt(),Ja=zt(),Ql=function(t){zl(e,t);function e(n,r,i){var s=t.call(this)||this;return s.connection=n,s.reqUri=r,s.resUri=i,s}return e.prototype.connect=function(){var n=this;return this.connection.on(this.resUri,function(r){n.transportRequestManager.resolveResponse(r);}),Promise.resolve()},e.prototype.sendData=function(n,r){r===void 0&&(r=null);var i=this.transportRequestManager.addRequest(n,r),s=(0, Gl.getNotifications)(n),o=this.parseData(n);try{return this.connection.emit(this.reqUri,o),this.transportRequestManager.settlePendingRequest(s),i}catch(l){var c=new Ja.JSONRPCError(l.message,Ja.ERR_UNKNOWN,l);return this.transportRequestManager.settlePendingRequest(s,c),Promise.reject(c)}},e.prototype.close=function(){this.connection.removeAllListeners();},e}(Vl.Transport);Tn.default=Ql;});var Qa={};d(Qa,{DOMException:()=>ft,Headers:()=>Z,Request:()=>dt,Response:()=>ke,fetch:()=>Ri});function Xl(t){return t&&DataView.prototype.isPrototypeOf(t)}function Xt(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function bi(t){return typeof t!="string"&&(t=String(t)),t}function wi(t){var e={next:function(){var n=t.shift();return {done:n===void 0,value:n}}};return pe.iterable&&(e[Symbol.iterator]=function(){return e}),e}function Z(t){this.map={},t instanceof Z?t.forEach(function(e,n){this.append(n,e);},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1]);},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e]);},this);}function vi(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0;}}function Va(t){return new Promise(function(e,n){t.onload=function(){e(t.result);},t.onerror=function(){n(t.error);};})}function Zl(t){var e=new FileReader,n=Va(e);return e.readAsArrayBuffer(t),n}function Kl(t){var e=new FileReader,n=Va(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=r?r[1]:"utf-8";return e.readAsText(t,i),n}function Yl(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function $a(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Ga(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:pe.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:pe.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:pe.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():pe.arrayBuffer&&pe.blob&&Xl(t)?(this._bodyArrayBuffer=$a(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):pe.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||za(t))?this._bodyArrayBuffer=$a(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):pe.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"));},pe.blob&&(this.blob=function(){var t=vi(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=vi(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else {if(pe.blob)return this.blob().then(Zl);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=vi(this);if(t)return t;if(this._bodyBlob)return Kl(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Yl(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},pe.formData&&(this.formData=function(){return this.text().then(nf)}),this.json=function(){return this.text().then(JSON.parse)},this}function tf(t){var e=t.toUpperCase();return ef.indexOf(e)>-1?e:t}function dt(t,e){if(!(this instanceof dt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var n=e.body;if(t instanceof dt){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new Z(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!n&&t._bodyInit!=null&&(n=t._bodyInit,t.bodyUsed=!0);}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new Z(e.headers)),this.method=tf(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in ie){var s=new AbortController;return s.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else {var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime();}}}function nf(t){var e=new FormData;return t.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(s));}}),e}function rf(t){var e=new Z,n=t.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),s=i.shift().trim();if(s){var o=i.join(":").trim();try{e.append(s,o);}catch(c){console.warn("Response "+c.message);}}}),e}function ke(t,e){if(!(this instanceof ke))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new Z(e.headers),this.url=e.url||"",this._initBody(t);}function Ri(t,e){return new Promise(function(n,r){var i=new dt(t,e);if(i.signal&&i.signal.aborted)return r(new ft("Aborted","AbortError"));var s=new XMLHttpRequest;function o(){s.abort();}s.onload=function(){var a={status:s.status,statusText:s.statusText,headers:rf(s.getAllResponseHeaders()||"")};a.url="responseURL"in s?s.responseURL:a.headers.get("X-Request-URL");var d="response"in s?s.response:s.responseText;setTimeout(function(){n(new ke(d,a));},0);},s.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"));},0);},s.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"));},0);},s.onabort=function(){setTimeout(function(){r(new ft("Aborted","AbortError"));},0);};function c(a){try{return a===""&&ie.location.href?ie.location.href:a}catch{return a}}if(s.open(i.method,c(i.url),!0),i.credentials==="include"?s.withCredentials=!0:i.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(pe.blob?s.responseType="blob":pe.arrayBuffer&&(s.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof Z||ie.Headers&&e.headers instanceof ie.Headers)){var l=[];Object.getOwnPropertyNames(e.headers).forEach(function(a){l.push(Xt(a)),s.setRequestHeader(a,bi(e.headers[a]));}),i.headers.forEach(function(a,d){l.indexOf(d)===-1&&s.setRequestHeader(d,a);});}else i.headers.forEach(function(a,d){s.setRequestHeader(d,a);});i.signal&&(i.signal.addEventListener("abort",o),s.onreadystatechange=function(){s.readyState===4&&i.signal.removeEventListener("abort",o);}),s.send(typeof i._bodyInit>"u"?null:i._bodyInit);})}var ie,pe,Ha,za,ef,sf,ft,Xa=b(()=>{j();h$1();ie=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis||{},pe={searchParams:"URLSearchParams"in ie,iterable:"Symbol"in ie&&"iterator"in Symbol,blob:"FileReader"in ie&&"Blob"in ie&&function(){try{return new Blob,!0}catch{return !1}}(),formData:"FormData"in ie,arrayBuffer:"ArrayBuffer"in ie};pe.arrayBuffer&&(Ha=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],za=ArrayBuffer.isView||function(t){return t&&Ha.indexOf(Object.prototype.toString.call(t))>-1});Z.prototype.append=function(t,e){t=Xt(t),e=bi(e);var n=this.map[t];this.map[t]=n?n+", "+e:e;};Z.prototype.delete=function(t){delete this.map[Xt(t)];};Z.prototype.get=function(t){return t=Xt(t),this.has(t)?this.map[t]:null};Z.prototype.has=function(t){return this.map.hasOwnProperty(Xt(t))};Z.prototype.set=function(t,e){this.map[Xt(t)]=bi(e);};Z.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this);};Z.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n);}),wi(t)};Z.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e);}),wi(t)};Z.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e]);}),wi(t)};pe.iterable&&(Z.prototype[Symbol.iterator]=Z.prototype.entries);ef=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];dt.prototype.clone=function(){return new dt(this,{body:this._bodyInit})};Ga.call(dt.prototype);Ga.call(ke.prototype);ke.prototype.clone=function(){return new ke(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Z(this.headers),url:this.url})};ke.error=function(){var t=new ke(null,{status:200,statusText:""});return t.status=0,t.type="error",t};sf=[301,302,303,307,308];ke.redirect=function(t,e){if(sf.indexOf(e)===-1)throw new RangeError("Invalid status code");return new ke(null,{status:e,headers:{location:t}})};ft=ie.DOMException;try{new ft;}catch{ft=function(e,n){this.message=e,this.name=n;var r=Error(e);this.stack=r.stack;},ft.prototype=Object.create(Error.prototype),ft.prototype.constructor=ft;}Ri.polyfill=!0;ie.fetch||(ie.fetch=Ri,ie.Headers=Z,ie.Request=dt,ie.Response=ke);});var Ka=c((om,Za)=>{j();h$1();Xa();Za.exports=self.fetch.bind(self);});var tc=c(Re=>{j();h$1();var of=Re&&Re.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i;}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e;}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r);}}(),af=Re&&Re.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s);})}return new(n||(n=Promise))(function(s,o){function c(d){try{a(r.next(d));}catch(p){o(p);}}function l(d){try{a(r.throw(d));}catch(p){o(p);}}function a(d){d.done?s(d.value):i(d.value).then(c,l);}a((r=r.apply(t,e||[])).next());})},cf=Re&&Re.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(d){return l([a,d])}}function l(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(n=0)),n;)try{if(r=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){n.label=a[1];break}if(a[0]===6&&n.label<s[1]){n.label=s[1],s=a;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(a);break}s[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n);}catch(d){a=[6,d],i=0;}finally{r=s=0;}if(a[0]&5)throw a[1];return {value:a[0]?a[1]:void 0,done:!0}}},uf=Re&&Re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.HTTPTransport=void 0;var lf=uf(Ka()),ff=Gt(),_i=Qt(),Ya=zt(),ec=function(t){of(e,t);function e(n,r){var i=t.call(this)||this;return i.onlyNotifications=function(s){return s instanceof Array?s.every(function(o){return o.request.request.id===null||o.request.request.id===void 0}):s.request.id===null||s.request.id===void 0},i.uri=n,i.credentials=r&&r.credentials,i.headers=e.setupHeaders(r&&r.headers),i.injectedFetcher=r?.fetcher,i}return e.prototype.connect=function(){return Promise.resolve()},e.prototype.sendData=function(n,r){return r===void 0&&(r=null),af(this,void 0,void 0,function(){var i,s,o,c,l,a,p,d,p;return cf(this,function(R){switch(R.label){case 0:i=this.transportRequestManager.addRequest(n,r),s=(0, _i.getNotifications)(n),o=(0, _i.getBatchRequests)(n),c=this.injectedFetcher||lf.default,R.label=1;case 1:return R.trys.push([1,4,,5]),[4,c(this.uri,{method:"POST",headers:this.headers,body:JSON.stringify(this.parseData(n)),credentials:this.credentials})];case 2:return l=R.sent(),this.transportRequestManager.settlePendingRequest(s),this.onlyNotifications(n)?[2,Promise.resolve()]:[4,l.text()];case 3:return a=R.sent(),p=this.transportRequestManager.resolveResponse(a),p?(this.transportRequestManager.settlePendingRequest(o,p),[2,Promise.reject(p)]):[3,5];case 4:return d=R.sent(),p=new Ya.JSONRPCError(d.message,Ya.ERR_UNKNOWN,d),this.transportRequestManager.settlePendingRequest(s,p),this.transportRequestManager.settlePendingRequest((0, _i.getBatchRequests)(n),p),[2,Promise.reject(p)];case 5:return [2,i]}})})},e.prototype.close=function(){},e.setupHeaders=function(n){var r=new Headers(n);return r.set("Content-Type","application/json"),r},e}(ff.Transport);Re.HTTPTransport=ec;Re.default=ec;});var nc={};d(nc,{default:()=>df});var Zt,df,rc=b(()=>{j();h$1();Zt=null;typeof WebSocket<"u"?Zt=WebSocket:typeof MozWebSocket<"u"?Zt=MozWebSocket:typeof globalThis<"u"?Zt=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?Zt=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Zt=self.WebSocket||self.MozWebSocket);df=Zt;});var oc=c(Ce=>{j();h$1();var hf=Ce&&Ce.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i;}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e;}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r);}}(),pf=Ce&&Ce.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s);})}return new(n||(n=Promise))(function(s,o){function c(d){try{a(r.next(d));}catch(p){o(p);}}function l(d){try{a(r.throw(d));}catch(p){o(p);}}function a(d){d.done?s(d.value):i(d.value).then(c,l);}a((r=r.apply(t,e||[])).next());})},gf=Ce&&Ce.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(d){return l([a,d])}}function l(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(n=0)),n;)try{if(r=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){n.label=a[1];break}if(a[0]===6&&n.label<s[1]){n.label=s[1],s=a;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(a);break}s[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n);}catch(d){a=[6,d],i=0;}finally{r=s=0;}if(a[0]&5)throw a[1];return {value:a[0]?a[1]:void 0,done:!0}}},mf=Ce&&Ce.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});var yf=mf((rc(),f(nc))),vf=Gt(),ic=Qt(),sc=zt(),bf=function(t){hf(e,t);function e(n){var r=t.call(this)||this;return r.uri=n,r.connection=new yf.default(n),r}return e.prototype.connect=function(){var n=this;return new Promise(function(r,i){var s=function(){n.connection.removeEventListener("open",s),r();};n.connection.addEventListener("open",s),n.connection.addEventListener("message",function(o){var c=o.data;n.transportRequestManager.resolveResponse(c);});})},e.prototype.sendData=function(n,r){return r===void 0&&(r=5e3),pf(this,void 0,void 0,function(){var i,s,o;return gf(this,function(c){i=this.transportRequestManager.addRequest(n,r),s=(0, ic.getNotifications)(n);try{this.connection.send(JSON.stringify(this.parseData(n))),this.transportRequestManager.settlePendingRequest(s);}catch(l){o=new sc.JSONRPCError(l.message,sc.ERR_UNKNOWN,l),this.transportRequestManager.settlePendingRequest(s,o),this.transportRequestManager.settlePendingRequest((0, ic.getBatchRequests)(n),o),i=Promise.reject(o);}return [2,i]})})},e.prototype.close=function(){this.connection.close();},e}(vf.Transport);Ce.default=bf;});var uc=c(Qe=>{j();h$1();var wf=Qe&&Qe.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i;}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e;}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r);}}(),ac=Qe&&Qe.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s);})}return new(n||(n=Promise))(function(s,o){function c(d){try{a(r.next(d));}catch(p){o(p);}}function l(d){try{a(r.throw(d));}catch(p){o(p);}}function a(d){d.done?s(d.value):i(d.value).then(c,l);}a((r=r.apply(t,e||[])).next());})},cc=Qe&&Qe.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(d){return l([a,d])}}function l(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(n=0)),n;)try{if(r=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){n.label=a[1];break}if(a[0]===6&&n.label<s[1]){n.label=s[1],s=a;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(a);break}s[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n);}catch(d){a=[6,d],i=0;}finally{r=s=0;}if(a[0]&5)throw a[1];return {value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Qe,"__esModule",{value:!0});var Rf=Gt(),_f=Qt(),Pf=function(t){var e=400,n=window.screen.height,r=0,i=0;return window.open(t,"inspector:popup","left=".concat(r,",top=").concat(i,",width=").concat(e,",height=").concat(n,",resizable,scrollbars=yes,status=1"))},Sf=function(t){wf(e,t);function e(n){var r=t.call(this)||this;return r.messageHandler=function(i){r.transportRequestManager.resolveResponse(JSON.stringify(i.data));},r.uri=n,r.postMessageID="post-message-transport-".concat(Math.random()),r}return e.prototype.createWindow=function(n){return new Promise(function(r,i){var s;s=Pf(n),setTimeout(function(){r(s);},3e3);})},e.prototype.connect=function(){var n=this,r=/^(http|https):\/\/.*$/;return new Promise(function(i,s){return ac(n,void 0,void 0,function(){var o;return cc(this,function(c){switch(c.label){case 0:return r.test(this.uri)||s(new Error("Bad URI")),o=this,[4,this.createWindow(this.uri)];case 1:return o.frame=c.sent(),window.addEventListener("message",this.messageHandler),i(),[2]}})})})},e.prototype.sendData=function(n,r){return ac(this,void 0,void 0,function(){var i,s;return cc(this,function(o){return i=this.transportRequestManager.addRequest(n,null),s=(0, _f.getNotifications)(n),this.frame&&(this.frame.postMessage(n.request,this.uri),this.transportRequestManager.settlePendingRequest(s)),[2,i]})})},e.prototype.close=function(){this.frame&&(window.removeEventListener("message",this.messageHandler),this.frame.close());},e}(Rf.Transport);Qe.default=Sf;});var dc=c(Xe=>{j();h$1();var Tf=Xe&&Xe.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i;}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e;}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r);}}(),lc=Xe&&Xe.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s);})}return new(n||(n=Promise))(function(s,o){function c(d){try{a(r.next(d));}catch(p){o(p);}}function l(d){try{a(r.throw(d));}catch(p){o(p);}}function a(d){d.done?s(d.value):i(d.value).then(c,l);}a((r=r.apply(t,e||[])).next());})},fc=Xe&&Xe.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(d){return l([a,d])}}function l(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(n=0)),n;)try{if(r=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){n.label=a[1];break}if(a[0]===6&&n.label<s[1]){n.label=s[1],s=a;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(a);break}s[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n);}catch(d){a=[6,d],i=0;}finally{r=s=0;}if(a[0]&5)throw a[1];return {value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Xe,"__esModule",{value:!0});var qf=Gt(),xf=Qt(),Df=function(t){Tf(e,t);function e(n){var r=t.call(this)||this;return r.messageHandler=function(i){r.transportRequestManager.resolveResponse(JSON.stringify(i.data));},r.uri=n,r.postMessageID="post-message-transport-".concat(Math.random()),r}return e.prototype.createWindow=function(n){var r=this;return new Promise(function(i,s){var o,c=document.createElement("iframe");c.setAttribute("id",r.postMessageID),c.setAttribute("width","0px"),c.setAttribute("height","0px"),c.setAttribute("style","visiblity:hidden;border:none;outline:none;"),c.addEventListener("load",function(){i(o);}),c.setAttribute("src",n),window.document.body.appendChild(c),o=c.contentWindow;})},e.prototype.connect=function(){var n=this,r=/^(http|https):\/\/.*$/;return new Promise(function(i,s){return lc(n,void 0,void 0,function(){var o;return fc(this,function(c){switch(c.label){case 0:return r.test(this.uri)||s(new Error("Bad URI")),o=this,[4,this.createWindow(this.uri)];case 1:return o.frame=c.sent(),window.addEventListener("message",this.messageHandler),i(),[2]}})})})},e.prototype.sendData=function(n,r){return lc(this,void 0,void 0,function(){var i,s;return fc(this,function(o){return i=this.transportRequestManager.addRequest(n,null),s=(0, xf.getNotifications)(n),this.frame&&(this.frame.postMessage(n.request,"*"),this.transportRequestManager.settlePendingRequest(s)),[2,i]})})},e.prototype.close=function(){var n=document.getElementById(this.postMessageID);n?.remove(),window.removeEventListener("message",this.messageHandler);},e}(qf.Transport);Xe.default=Df;});var gc=c(Tt=>{j();h$1();var hc=Tt&&Tt.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s);})}return new(n||(n=Promise))(function(s,o){function c(d){try{a(r.next(d));}catch(p){o(p);}}function l(d){try{a(r.throw(d));}catch(p){o(p);}}function a(d){d.done?s(d.value):i(d.value).then(c,l);}a((r=r.apply(t,e||[])).next());})},pc=Tt&&Tt.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(a){return function(d){return l([a,d])}}function l(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(n=0)),n;)try{if(r=1,i&&(s=a[0]&2?i.return:a[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;switch(i=0,s&&(a=[a[0]&2,s.value]),a[0]){case 0:case 1:s=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){n.label=a[1];break}if(a[0]===6&&n.label<s[1]){n.label=s[1],s=a;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(a);break}s[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n);}catch(d){a=[6,d],i=0;}finally{r=s=0;}if(a[0]&5)throw a[1];return {value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Tt,"__esModule",{value:!0});var kf=function(){function t(e){this.requestManager=e;}return t.prototype.startBatch=function(){return this.requestManager.startBatch()},t.prototype.stopBatch=function(){return this.requestManager.stopBatch()},t.prototype.request=function(e,n){return hc(this,void 0,void 0,function(){return pc(this,function(r){switch(r.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:r.sent(),r.label=2;case 2:return [2,this.requestManager.request(e,!1,n)]}})})},t.prototype.notify=function(e){return hc(this,void 0,void 0,function(){return pc(this,function(n){switch(n.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:n.sent(),n.label=2;case 2:return [2,this.requestManager.request(e,!0,null)]}})})},t.prototype.onNotification=function(e){this.requestManager.requestChannel.addListener("notification",e);},t.prototype.onError=function(e){this.requestManager.requestChannel.addListener("error",e);},t.prototype.close=function(){this.requestManager.close();},t}();Tt.default=kf;});var yc=c(X=>{j();h$1();var qt=X&&X.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(X,"__esModule",{value:!0});X.PostMessageIframeTransport=X.PostMessageWindowTransport=X.JSONRPCError=X.WebSocketTransport=X.EventEmitterTransport=X.HTTPTransport=X.RequestManager=X.Client=void 0;var Cf=qt(Ba());X.RequestManager=Cf.default;var Ef=qt(Ua());X.EventEmitterTransport=Ef.default;var Of=qt(tc());X.HTTPTransport=Of.default;var Nf=qt(oc());X.WebSocketTransport=Nf.default;var Mf=qt(uc());X.PostMessageWindowTransport=Mf.default;var If=qt(dc());X.PostMessageIframeTransport=If.default;var jf=zt();Object.defineProperty(X,"JSONRPCError",{enumerable:!0,get:function(){return jf.JSONRPCError}});var mc=qt(gc());X.Client=mc.default;X.default=mc.default;});var Kt=c(le=>{j();h$1();Object.defineProperty(le,"__esModule",{value:!0});le.stringArray=le.array=le.func=le.error=le.number=le.string=le.boolean=void 0;function Af(t){return t===!0||t===!1}le.boolean=Af;function vc(t){return typeof t=="string"||t instanceof String}le.string=vc;function Lf(t){return typeof t=="number"||t instanceof Number}le.number=Lf;function Ff(t){return t instanceof Error}le.error=Ff;function Bf(t){return typeof t=="function"}le.func=Bf;function bc(t){return Array.isArray(t)}le.array=bc;function Wf(t){return bc(t)&&t.every(e=>vc(e))}le.stringArray=Wf;});var zi=c(D=>{j();h$1();Object.defineProperty(D,"__esModule",{value:!0});D.Message=D.NotificationType9=D.NotificationType8=D.NotificationType7=D.NotificationType6=D.NotificationType5=D.NotificationType4=D.NotificationType3=D.NotificationType2=D.NotificationType1=D.NotificationType0=D.NotificationType=D.RequestType9=D.RequestType8=D.RequestType7=D.RequestType6=D.RequestType5=D.RequestType4=D.RequestType3=D.RequestType2=D.RequestType1=D.RequestType=D.RequestType0=D.AbstractMessageSignature=D.ParameterStructures=D.ResponseError=D.ErrorCodes=void 0;var xt=Kt(),wc;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3;})(wc=D.ErrorCodes||(D.ErrorCodes={}));var Pi=class t extends Error{constructor(e,n,r){super(n),this.code=xt.number(e)?e:wc.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,t.prototype);}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};D.ResponseError=Pi;var be=class t{constructor(e){this.kind=e;}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};D.ParameterStructures=be;be.auto=new be("auto");be.byPosition=new be("byPosition");be.byName=new be("byName");var W=class{constructor(e,n){this.method=e,this.numberOfParams=n;}get parameterStructures(){return be.auto}};D.AbstractMessageSignature=W;var Si=class extends W{constructor(e){super(e,0);}};D.RequestType0=Si;var Ti=class extends W{constructor(e,n=be.auto){super(e,1),this._parameterStructures=n;}get parameterStructures(){return this._parameterStructures}};D.RequestType=Ti;var qi=class extends W{constructor(e,n=be.auto){super(e,1),this._parameterStructures=n;}get parameterStructures(){return this._parameterStructures}};D.RequestType1=qi;var xi=class extends W{constructor(e){super(e,2);}};D.RequestType2=xi;var Di=class extends W{constructor(e){super(e,3);}};D.RequestType3=Di;var ki=class extends W{constructor(e){super(e,4);}};D.RequestType4=ki;var Ci=class extends W{constructor(e){super(e,5);}};D.RequestType5=Ci;var Ei=class extends W{constructor(e){super(e,6);}};D.RequestType6=Ei;var Oi=class extends W{constructor(e){super(e,7);}};D.RequestType7=Oi;var Ni=class extends W{constructor(e){super(e,8);}};D.RequestType8=Ni;var Mi=class extends W{constructor(e){super(e,9);}};D.RequestType9=Mi;var Ii=class extends W{constructor(e,n=be.auto){super(e,1),this._parameterStructures=n;}get parameterStructures(){return this._parameterStructures}};D.NotificationType=Ii;var ji=class extends W{constructor(e){super(e,0);}};D.NotificationType0=ji;var Ai=class extends W{constructor(e,n=be.auto){super(e,1),this._parameterStructures=n;}get parameterStructures(){return this._parameterStructures}};D.NotificationType1=Ai;var Li=class extends W{constructor(e){super(e,2);}};D.NotificationType2=Li;var Fi=class extends W{constructor(e){super(e,3);}};D.NotificationType3=Fi;var Bi=class extends W{constructor(e){super(e,4);}};D.NotificationType4=Bi;var Wi=class extends W{constructor(e){super(e,5);}};D.NotificationType5=Wi;var Ji=class extends W{constructor(e){super(e,6);}};D.NotificationType6=Ji;var Ui=class extends W{constructor(e){super(e,7);}};D.NotificationType7=Ui;var Hi=class extends W{constructor(e){super(e,8);}};D.NotificationType8=Hi;var $i=class extends W{constructor(e){super(e,9);}};D.NotificationType9=$i;(function(t){function e(i){let s=i;return s&&xt.string(s.method)&&(xt.string(s.id)||xt.number(s.id))}t.isRequest=e;function n(i){let s=i;return s&&xt.string(s.method)&&i.id===void 0}t.isNotification=n;function r(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(xt.string(s.id)||xt.number(s.id)||s.id===null)}t.isResponse=r;})(D.Message||(D.Message={}));});var Gi=c(Ze=>{j();h$1();var Rc;Object.defineProperty(Ze,"__esModule",{value:!0});Ze.LRUCache=Ze.LinkedMap=Ze.Touch=void 0;var ge;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last;})(ge=Ze.Touch||(Ze.Touch={}));var pr=class{constructor(){this[Rc]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0;}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++;}isEmpty(){return !this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=ge.None){let r=this._map.get(e);if(r)return n!==ge.None&&this.touch(r,n),r.value}set(e,n,r=ge.None){let i=this._map.get(e);if(i)i.value=n,r!==ge.None&&this.touch(i,r);else {switch(i={key:e,value:n,next:void 0,previous:void 0},r){case ge.None:this.addItemLast(i);break;case ge.First:this.addItemFirst(i);break;case ge.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++;}return this}delete(e){return !!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next;}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return {value:void 0,done:!0}}};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return {value:void 0,done:!0}}};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return {value:void 0,done:!0}}};return r}[(Rc=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++;}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++;}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++;}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next;}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous;}else {let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n;}e.next=void 0,e.previous=void 0,this._state++;}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==ge.First&&n!==ge.Last)){if(n===ge.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++;}else if(n===ge.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++;}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n]);}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r);}};Ze.LinkedMap=pr;var Vi=class extends pr{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1);}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim();}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim();}get(e,n=ge.AsNew){return super.get(e,n)}peek(e){return super.get(e,ge.None)}set(e,n){return super.set(e,n,ge.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio));}};Ze.LRUCache=Vi;});var _c=c(qn=>{j();h$1();Object.defineProperty(qn,"__esModule",{value:!0});qn.Disposable=void 0;(function(t){function e(n){return {dispose:n}}t.create=e;})(qn.Disposable||(qn.Disposable={}));});var ht=c(Zi=>{j();h$1();Object.defineProperty(Zi,"__esModule",{value:!0});var Qi;function Xi(){if(Qi===void 0)throw new Error("No runtime abstraction layer installed");return Qi}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Qi=n;}t.install=e;})(Xi||(Xi={}));Zi.default=Xi;});var Yt=c(Dt=>{j();h$1();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.Emitter=Dt.Event=void 0;var Hf=ht();(function(t){let e={dispose(){}};t.None=function(){return e};})(Dt.Event||(Dt.Event={}));var Ki=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)});}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return [];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e));}catch(c){(0, Hf.default)().console.error(c);}return n}isEmpty(){return !this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0;}},gr=class t{constructor(e){this._options=e;}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Ki),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this));}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e);}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0);}};Dt.Emitter=gr;gr._noop=function(){};});var yr=c(kt=>{j();h$1();Object.defineProperty(kt,"__esModule",{value:!0});kt.CancellationTokenSource=kt.CancellationToken=void 0;var zf=ht(),Vf=Kt(),Yi=Yt(),es;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Yi.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Yi.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||Vf.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e;})(es=kt.CancellationToken||(kt.CancellationToken={}));var Gf=Object.freeze(function(t,e){let n=(0, zf.default)().timer.setTimeout(t.bind(e),0);return {dispose(){n.dispose();}}}),mr=class{constructor(){this._isCancelled=!1;}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()));}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Gf:(this._emitter||(this._emitter=new Yi.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0);}},ts=class{get token(){return this._token||(this._token=new mr),this._token}cancel(){this._token?this._token.cancel():this._token=es.Cancelled;}dispose(){this._token?this._token instanceof mr&&this._token.dispose():this._token=es.None;}};kt.CancellationTokenSource=ts;});var Pc=c(en=>{j();h$1();Object.defineProperty(en,"__esModule",{value:!0});en.SharedArrayReceiverStrategy=en.SharedArraySenderStrategy=void 0;var Qf=yr(),xn;(function(t){t.Continue=0,t.Cancelled=1;})(xn||(xn={}));var ns=class{constructor(){this.buffers=new Map;}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=xn.Continue,this.buffers.set(e.id,n),e.$cancellationData=n;}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,xn.Cancelled);}cleanup(e){this.buffers.delete(e);}dispose(){this.buffers.clear();}};en.SharedArraySenderStrategy=ns;var rs=class{constructor(e){this.data=new Int32Array(e,0,1);}get isCancellationRequested(){return Atomics.load(this.data,0)===xn.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},is=class{constructor(e){this.token=new rs(e);}cancel(){}dispose(){}},ss=class{constructor(){this.kind="request";}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new Qf.CancellationTokenSource:new is(n)}};en.SharedArrayReceiverStrategy=ss;});var as=c(vr=>{j();h$1();Object.defineProperty(vr,"__esModule",{value:!0});vr.Semaphore=void 0;var Xf=ht(),os=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[];}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext();})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0, Xf.default)().timer.setImmediate(()=>this.doRunNext());}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext();},r=>{this._active--,e.reject(r),this.runNext();}):(this._active--,e.resolve(n),this.runNext());}catch(n){this._active--,e.reject(n),this.runNext();}}};vr.Semaphore=os;});var Sc=c(Ke=>{j();h$1();Object.defineProperty(Ke,"__esModule",{value:!0});Ke.ReadableStreamMessageReader=Ke.AbstractMessageReader=Ke.MessageReader=void 0;var us=ht(),tn=Kt(),cs=Yt(),Zf=as();(function(t){function e(n){let r=n;return r&&tn.func(r.listen)&&tn.func(r.dispose)&&tn.func(r.onError)&&tn.func(r.onClose)&&tn.func(r.onPartialMessage)}t.is=e;})(Ke.MessageReader||(Ke.MessageReader={}));var br=class{constructor(){this.errorEmitter=new cs.Emitter,this.closeEmitter=new cs.Emitter,this.partialMessageEmitter=new cs.Emitter;}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose();}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e));}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0);}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e);}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${tn.string(e.message)?e.message:"unknown"}`)}};Ke.AbstractMessageReader=br;var ls;(function(t){function e(n){let r,s,o=new Map,c,l=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else {if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let a of n.contentDecoders)o.set(a.name,a);if(n.contentTypeDecoder!==void 0&&(c=n.contentTypeDecoder,l.set(c.name,c)),n.contentTypeDecoders!==void 0)for(let a of n.contentTypeDecoders)l.set(a.name,a);}return c===void 0&&(c=(0, us.default)().applicationJson.decoder,l.set(c.name,c)),{charset:r,contentDecoder:s,contentDecoders:o,contentTypeDecoder:c,contentTypeDecoders:l}}t.fromOptions=e;})(ls||(ls={}));var fs=class extends br{constructor(e,n){super(),this.readable=e,this.options=ls.fromOptions(n),this.buffer=(0, us.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Zf.Semaphore(1);}set partialMessageTimeout(e){this._partialMessageTimeout=e;}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r);});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=s;}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i);}).catch(r=>{this.fireError(r);});}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0);}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0, us.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer());},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout));}};Ke.ReadableStreamMessageReader=fs;});var Dc=c(Ye=>{j();h$1();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.WriteableStreamMessageWriter=Ye.AbstractMessageWriter=Ye.MessageWriter=void 0;var Tc=ht(),Dn=Kt(),Yf=as(),qc=Yt(),ed="Content-Length: ",xc=`\r
`;(function(t){function e(n){let r=n;return r&&Dn.func(r.dispose)&&Dn.func(r.onClose)&&Dn.func(r.onError)&&Dn.func(r.write)}t.is=e;})(Ye.MessageWriter||(Ye.MessageWriter={}));var wr=class{constructor(){this.errorEmitter=new qc.Emitter,this.closeEmitter=new qc.Emitter;}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose();}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r]);}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0);}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Dn.string(e.message)?e.message:"unknown"}`)}};Ye.AbstractMessageWriter=wr;var ds;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0, Tc.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0, Tc.default)().applicationJson.encoder}}t.fromOptions=e;})(ds||(ds={}));var hs=class extends wr{constructor(e,n){super(),this.writable=e,this.options=ds.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Yf.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose());}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(ed,r.byteLength.toString(),xc),i.push(xc),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount);}end(){this.writable.end();}};Ye.WriteableStreamMessageWriter=hs;});var kc=c(Rr=>{j();h$1();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.AbstractMessageBuffer=void 0;var nd=13,rd=10,id=`\r
`,ps=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0;}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength;}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,s=0;e:for(;r<this._chunks.length;){let a=this._chunks[r];for(i=0;i<a.length;){switch(a[i]){case nd:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0;}break;case rd:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0;}break;default:n=0;}i++;}s+=a.byteLength,r++;}if(n!==4)return;let o=this._read(s+i),c=new Map,l=this.toString(o,"ascii").split(id);if(l.length<2)return c;for(let a=0;a<l.length-2;a++){let d=l[a],p=d.indexOf(":");if(p===-1)throw new Error("Message header must separate key and value using :");let R=d.substr(0,p),b=d.substr(p+1).trim();c.set(e?R.toLowerCase():R,b);}return c}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e;}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength;}return n}};Rr.AbstractMessageBuffer=ps;});var jc=c(q=>{j();h$1();Object.defineProperty(q,"__esModule",{value:!0});q.createMessageConnection=q.ConnectionOptions=q.MessageStrategy=q.CancellationStrategy=q.CancellationSenderStrategy=q.CancellationReceiverStrategy=q.RequestCancellationReceiverStrategy=q.IdCancellationReceiverStrategy=q.ConnectionStrategy=q.ConnectionError=q.ConnectionErrors=q.LogTraceNotification=q.SetTraceNotification=q.TraceFormat=q.TraceValues=q.Trace=q.NullLogger=q.ProgressType=q.ProgressToken=void 0;var Cc=ht(),H=Kt(),k=zi(),Ec=Gi(),kn=Yt(),gs=yr(),En;(function(t){t.type=new k.NotificationType("$/cancelRequest");})(En||(En={}));var Oc;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e;})(Oc=q.ProgressToken||(q.ProgressToken={}));var Cn;(function(t){t.type=new k.NotificationType("$/progress");})(Cn||(Cn={}));var ms=class{constructor(){}};q.ProgressType=ms;var ys;(function(t){function e(n){return H.func(n)}t.is=e;})(ys||(ys={}));q.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var j$1;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose";})(j$1=q.Trace||(q.Trace={}));(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose";})(q.TraceValues||(q.TraceValues={}));(function(t){function e(r){if(!H.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return "off";case t.Messages:return "messages";case t.Compact:return "compact";case t.Verbose:return "verbose";default:return "off"}}t.toString=n;})(j$1=q.Trace||(q.Trace={}));var Ee;(function(t){t.Text="text",t.JSON="json";})(Ee=q.TraceFormat||(q.TraceFormat={}));(function(t){function e(n){return H.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e;})(Ee=q.TraceFormat||(q.TraceFormat={}));var Nc;(function(t){t.type=new k.NotificationType("$/setTrace");})(Nc=q.SetTraceNotification||(q.SetTraceNotification={}));var vs;(function(t){t.type=new k.NotificationType("$/logTrace");})(vs=q.LogTraceNotification||(q.LogTraceNotification={}));var _r;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening";})(_r=q.ConnectionErrors||(q.ConnectionErrors={}));var nn=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype);}};q.ConnectionError=nn;var Mc;(function(t){function e(n){let r=n;return r&&H.func(r.cancelUndispatched)}t.is=e;})(Mc=q.ConnectionStrategy||(q.ConnectionStrategy={}));var Rs;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&H.func(r.createCancellationTokenSource)&&(r.dispose===void 0||H.func(r.dispose))}t.is=e;})(Rs=q.IdCancellationReceiverStrategy||(q.IdCancellationReceiverStrategy={}));var Ic;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&H.func(r.createCancellationTokenSource)&&(r.dispose===void 0||H.func(r.dispose))}t.is=e;})(Ic=q.RequestCancellationReceiverStrategy||(q.RequestCancellationReceiverStrategy={}));var bs;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new gs.CancellationTokenSource}});function e(n){return Rs.is(n)||Ic.is(n)}t.is=e;})(bs=q.CancellationReceiverStrategy||(q.CancellationReceiverStrategy={}));var ws;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(En.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&H.func(r.sendCancellation)&&H.func(r.cleanup)}t.is=e;})(ws=q.CancellationSenderStrategy||(q.CancellationSenderStrategy={}));var _s;(function(t){t.Message=Object.freeze({receiver:bs.Message,sender:ws.Message});function e(n){let r=n;return r&&bs.is(r.receiver)&&ws.is(r.sender)}t.is=e;})(_s=q.CancellationStrategy||(q.CancellationStrategy={}));var Ps;(function(t){function e(n){let r=n;return r&&H.func(r.handleMessage)}t.is=e;})(Ps=q.MessageStrategy||(q.MessageStrategy={}));(function(t){function e(n){let r=n;return r&&(_s.is(r.cancellationStrategy)||Mc.is(r.connectionStrategy)||Ps.is(r.messageStrategy))}t.is=e;})(q.ConnectionOptions||(q.ConnectionOptions={}));var Oe;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed";})(Oe||(Oe={}));function ad(t,e,n,r){let i=n!==void 0?n:q.NullLogger,s=0,o=0,c=0,l="2.0",a,d=new Map,p,R=new Map,b=new Map,C,J=new Ec.LinkedMap,M=new Map,rt=new Set,Ge=new Map,F=j$1.Off,yt=Ee.Text,ee,it=Oe.New,Gr=new kn.Emitter,Zo=new kn.Emitter,Ko=new kn.Emitter,Yo=new kn.Emitter,ea=new kn.Emitter,st=r&&r.cancellationStrategy?r.cancellationStrategy:_s.Message;function ta(f){if(f===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return "req-"+f.toString()}function Hu(f){return f===null?"res-unknown-"+(++c).toString():"res-"+f.toString()}function $u(){return "not-"+(++o).toString()}function zu(f,v){k.Message.isRequest(v)?f.set(ta(v.id),v):k.Message.isResponse(v)?f.set(Hu(v.id),v):f.set($u(),v);}function Vu(f){}function na(){return it===Oe.Listening}function ra(){return it===Oe.Closed}function jt(){return it===Oe.Disposed}function ia(){(it===Oe.New||it===Oe.Listening)&&(it=Oe.Closed,Zo.fire(void 0));}function Gu(f){Gr.fire([f,void 0,void 0]);}function Qu(f){Gr.fire(f);}t.onClose(ia),t.onError(Gu),e.onClose(ia),e.onError(Qu);function sa(){C||J.size===0||(C=(0, Cc.default)().timer.setImmediate(()=>{C=void 0,Xu();}));}function oa(f){k.Message.isRequest(f)?Ku(f):k.Message.isNotification(f)?el(f):k.Message.isResponse(f)?Yu(f):tl(f);}function Xu(){if(J.size===0)return;let f=J.shift();try{let v=r?.messageStrategy;Ps.is(v)?v.handleMessage(f,oa):oa(f);}finally{sa();}}let Zu=f=>{try{if(k.Message.isNotification(f)&&f.method===En.type.method){let v=f.params.id,P=ta(v),T=J.get(P);if(k.Message.isRequest(T)){let A=r?.connectionStrategy,V=A&&A.cancelUndispatched?A.cancelUndispatched(T,Vu):void 0;if(V&&(V.error!==void 0||V.result!==void 0)){J.delete(P),Ge.delete(v),V.id=T.id,Zn(V,f.method,Date.now()),e.write(V).catch(()=>i.error("Sending response for canceled message failed."));return}}let B=Ge.get(v);if(B!==void 0){B.cancel(),Qr(f);return}else rt.add(v);}zu(J,f);}finally{sa();}};function Ku(f){if(jt())return;function v(O,U,I){let te={jsonrpc:l,id:f.id};O instanceof k.ResponseError?te.error=O.toJson():te.result=O===void 0?null:O,Zn(te,U,I),e.write(te).catch(()=>i.error("Sending response failed."));}function P(O,U,I){let te={jsonrpc:l,id:f.id,error:O.toJson()};Zn(te,U,I),e.write(te).catch(()=>i.error("Sending response failed."));}function T(O,U,I){O===void 0&&(O=null);let te={jsonrpc:l,id:f.id,result:O};Zn(te,U,I),e.write(te).catch(()=>i.error("Sending response failed."));}il(f);let B=d.get(f.method),A,V;B&&(A=B.type,V=B.handler);let Q=Date.now();if(V||a){let O=f.id??String(Date.now()),U=Rs.is(st.receiver)?st.receiver.createCancellationTokenSource(O):st.receiver.createCancellationTokenSource(f);f.id!==null&&rt.has(f.id)&&U.cancel(),f.id!==null&&Ge.set(O,U);try{let I;if(V)if(f.params===void 0){if(A!==void 0&&A.numberOfParams!==0){P(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${f.method} defines ${A.numberOfParams} params but received none.`),f.method,Q);return}I=V(U.token);}else if(Array.isArray(f.params)){if(A!==void 0&&A.parameterStructures===k.ParameterStructures.byName){P(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${f.method} defines parameters by name but received parameters by position`),f.method,Q);return}I=V(...f.params,U.token);}else {if(A!==void 0&&A.parameterStructures===k.ParameterStructures.byPosition){P(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${f.method} defines parameters by position but received parameters by name`),f.method,Q);return}I=V(f.params,U.token);}else a&&(I=a(f.method,f.params,U.token));let te=I;I?te.then?te.then(fe=>{Ge.delete(O),v(fe,f.method,Q);},fe=>{Ge.delete(O),fe instanceof k.ResponseError?P(fe,f.method,Q):fe&&H.string(fe.message)?P(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${f.method} failed with message: ${fe.message}`),f.method,Q):P(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${f.method} failed unexpectedly without providing any details.`),f.method,Q);}):(Ge.delete(O),v(I,f.method,Q)):(Ge.delete(O),T(I,f.method,Q));}catch(I){Ge.delete(O),I instanceof k.ResponseError?v(I,f.method,Q):I&&H.string(I.message)?P(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${f.method} failed with message: ${I.message}`),f.method,Q):P(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${f.method} failed unexpectedly without providing any details.`),f.method,Q);}}else P(new k.ResponseError(k.ErrorCodes.MethodNotFound,`Unhandled method ${f.method}`),f.method,Q);}function Yu(f){if(!jt())if(f.id===null)f.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(f.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else {let v=f.id,P=M.get(v);if(sl(f,P),P!==void 0){M.delete(v);try{if(f.error){let T=f.error;P.reject(new k.ResponseError(T.code,T.message,T.data));}else if(f.result!==void 0)P.resolve(f.result);else throw new Error("Should never happen.")}catch(T){T.message?i.error(`Response handler '${P.method}' failed with message: ${T.message}`):i.error(`Response handler '${P.method}' failed unexpectedly.`);}}}}function el(f){if(jt())return;let v,P;if(f.method===En.type.method){let T=f.params.id;rt.delete(T),Qr(f);return}else {let T=R.get(f.method);T&&(P=T.handler,v=T.type);}if(P||p)try{if(Qr(f),P)if(f.params===void 0)v!==void 0&&v.numberOfParams!==0&&v.parameterStructures!==k.ParameterStructures.byName&&i.error(`Notification ${f.method} defines ${v.numberOfParams} params but received none.`),P();else if(Array.isArray(f.params)){let T=f.params;f.method===Cn.type.method&&T.length===2&&Oc.is(T[0])?P({token:T[0],value:T[1]}):(v!==void 0&&(v.parameterStructures===k.ParameterStructures.byName&&i.error(`Notification ${f.method} defines parameters by name but received parameters by position`),v.numberOfParams!==f.params.length&&i.error(`Notification ${f.method} defines ${v.numberOfParams} params but received ${T.length} arguments`)),P(...T));}else v!==void 0&&v.parameterStructures===k.ParameterStructures.byPosition&&i.error(`Notification ${f.method} defines parameters by position but received parameters by name`),P(f.params);else p&&p(f.method,f.params);}catch(T){T.message?i.error(`Notification handler '${f.method}' failed with message: ${T.message}`):i.error(`Notification handler '${f.method}' failed unexpectedly.`);}else Ko.fire(f);}function tl(f){if(!f){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(f,null,4)}`);let v=f;if(H.string(v.id)||H.number(v.id)){let P=v.id,T=M.get(P);T&&T.reject(new Error("The received response has neither a result nor an error property."));}}function ot(f){if(f!=null)switch(F){case j$1.Verbose:return JSON.stringify(f,null,4);case j$1.Compact:return JSON.stringify(f);default:return}}function nl(f){if(!(F===j$1.Off||!ee))if(yt===Ee.Text){let v;(F===j$1.Verbose||F===j$1.Compact)&&f.params&&(v=`Params: ${ot(f.params)}

`),ee.log(`Sending request '${f.method} - (${f.id})'.`,v);}else At("send-request",f);}function rl(f){if(!(F===j$1.Off||!ee))if(yt===Ee.Text){let v;(F===j$1.Verbose||F===j$1.Compact)&&(f.params?v=`Params: ${ot(f.params)}

`:v=`No parameters provided.

`),ee.log(`Sending notification '${f.method}'.`,v);}else At("send-notification",f);}function Zn(f,v,P){if(!(F===j$1.Off||!ee))if(yt===Ee.Text){let T;(F===j$1.Verbose||F===j$1.Compact)&&(f.error&&f.error.data?T=`Error data: ${ot(f.error.data)}

`:f.result?T=`Result: ${ot(f.result)}

`:f.error===void 0&&(T=`No result returned.

`)),ee.log(`Sending response '${v} - (${f.id})'. Processing request took ${Date.now()-P}ms`,T);}else At("send-response",f);}function il(f){if(!(F===j$1.Off||!ee))if(yt===Ee.Text){let v;(F===j$1.Verbose||F===j$1.Compact)&&f.params&&(v=`Params: ${ot(f.params)}

`),ee.log(`Received request '${f.method} - (${f.id})'.`,v);}else At("receive-request",f);}function Qr(f){if(!(F===j$1.Off||!ee||f.method===vs.type.method))if(yt===Ee.Text){let v;(F===j$1.Verbose||F===j$1.Compact)&&(f.params?v=`Params: ${ot(f.params)}

`:v=`No parameters provided.

`),ee.log(`Received notification '${f.method}'.`,v);}else At("receive-notification",f);}function sl(f,v){if(!(F===j$1.Off||!ee))if(yt===Ee.Text){let P;if((F===j$1.Verbose||F===j$1.Compact)&&(f.error&&f.error.data?P=`Error data: ${ot(f.error.data)}

`:f.result?P=`Result: ${ot(f.result)}

`:f.error===void 0&&(P=`No result returned.

`)),v){let T=f.error?` Request failed: ${f.error.message} (${f.error.code}).`:"";ee.log(`Received response '${v.method} - (${f.id})' in ${Date.now()-v.timerStart}ms.${T}`,P);}else ee.log(`Received response ${f.id} without active response promise.`,P);}else At("receive-response",f);}function At(f,v){if(!ee||F===j$1.Off)return;let P={isLSPMessage:!0,type:f,message:v,timestamp:Date.now()};ee.log(P);}function yn(){if(ra())throw new nn(_r.Closed,"Connection is closed.");if(jt())throw new nn(_r.Disposed,"Connection is disposed.")}function ol(){if(na())throw new nn(_r.AlreadyListening,"Connection is already listening")}function al(){if(!na())throw new Error("Call listen() first.")}function vn(f){return f===void 0?null:f}function aa(f){if(f!==null)return f}function ca(f){return f!=null&&!Array.isArray(f)&&typeof f=="object"}function Xr(f,v){switch(f){case k.ParameterStructures.auto:return ca(v)?aa(v):[vn(v)];case k.ParameterStructures.byName:if(!ca(v))throw new Error("Received parameters by name but param is not an object literal.");return aa(v);case k.ParameterStructures.byPosition:return [vn(v)];default:throw new Error(`Unknown parameter structure ${f.toString()}`)}}function ua(f,v){let P,T=f.numberOfParams;switch(T){case 0:P=void 0;break;case 1:P=Xr(f.parameterStructures,v[0]);break;default:P=[];for(let B=0;B<v.length&&B<T;B++)P.push(vn(v[B]));if(v.length<T)for(let B=v.length;B<T;B++)P.push(null);break}return P}let Lt={sendNotification:(f,...v)=>{yn();let P,T;if(H.string(f)){P=f;let A=v[0],V=0,Q=k.ParameterStructures.auto;k.ParameterStructures.is(A)&&(V=1,Q=A);let O=v.length,U=O-V;switch(U){case 0:T=void 0;break;case 1:T=Xr(Q,v[V]);break;default:if(Q===k.ParameterStructures.byName)throw new Error(`Received ${U} parameters for 'by Name' notification parameter structure.`);T=v.slice(V,O).map(I=>vn(I));break}}else {let A=v;P=f.method,T=ua(f,A);}let B={jsonrpc:l,method:P,params:T};return rl(B),e.write(B).catch(A=>{throw i.error("Sending notification failed."),A})},onNotification:(f,v)=>{yn();let P;return H.func(f)?p=f:v&&(H.string(f)?(P=f,R.set(f,{type:void 0,handler:v})):(P=f.method,R.set(f.method,{type:f,handler:v}))),{dispose:()=>{P!==void 0?R.delete(P):p=void 0;}}},onProgress:(f,v,P)=>{if(b.has(v))throw new Error(`Progress handler for token ${v} already registered`);return b.set(v,P),{dispose:()=>{b.delete(v);}}},sendProgress:(f,v,P)=>Lt.sendNotification(Cn.type,{token:v,value:P}),onUnhandledProgress:Yo.event,sendRequest:(f,...v)=>{yn(),al();let P,T,B;if(H.string(f)){P=f;let O=v[0],U=v[v.length-1],I=0,te=k.ParameterStructures.auto;k.ParameterStructures.is(O)&&(I=1,te=O);let fe=v.length;gs.CancellationToken.is(U)&&(fe=fe-1,B=U);let Fe=fe-I;switch(Fe){case 0:T=void 0;break;case 1:T=Xr(te,v[I]);break;default:if(te===k.ParameterStructures.byName)throw new Error(`Received ${Fe} parameters for 'by Name' request parameter structure.`);T=v.slice(I,fe).map(cl=>vn(cl));break}}else {let O=v;P=f.method,T=ua(f,O);let U=f.numberOfParams;B=gs.CancellationToken.is(O[U])?O[U]:void 0;}let A=s++,V;B&&(V=B.onCancellationRequested(()=>{let O=st.sender.sendCancellation(Lt,A);return O===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${A}`),Promise.resolve()):O.catch(()=>{i.log(`Sending cancellation messages for id ${A} failed`);})}));let Q={jsonrpc:l,id:A,method:P,params:T};return nl(Q),typeof st.sender.enableCancellation=="function"&&st.sender.enableCancellation(Q),new Promise(async(O,U)=>{let I=Fe=>{O(Fe),st.sender.cleanup(A),V?.dispose();},te=Fe=>{U(Fe),st.sender.cleanup(A),V?.dispose();},fe={method:P,timerStart:Date.now(),resolve:I,reject:te};try{await e.write(Q),M.set(A,fe);}catch(Fe){throw i.error("Sending request failed."),fe.reject(new k.ResponseError(k.ErrorCodes.MessageWriteError,Fe.message?Fe.message:"Unknown reason")),Fe}})},onRequest:(f,v)=>{yn();let P=null;return ys.is(f)?(P=void 0,a=f):H.string(f)?(P=null,v!==void 0&&(P=f,d.set(f,{handler:v,type:void 0}))):v!==void 0&&(P=f.method,d.set(f.method,{type:f,handler:v})),{dispose:()=>{P!==null&&(P!==void 0?d.delete(P):a=void 0);}}},hasPendingResponse:()=>M.size>0,trace:async(f,v,P)=>{let T=!1,B=Ee.Text;P!==void 0&&(H.boolean(P)?T=P:(T=P.sendNotification||!1,B=P.traceFormat||Ee.Text)),F=f,yt=B,F===j$1.Off?ee=void 0:ee=v,T&&!ra()&&!jt()&&await Lt.sendNotification(Nc.type,{value:j$1.toString(f)});},onError:Gr.event,onClose:Zo.event,onUnhandledNotification:Ko.event,onDispose:ea.event,end:()=>{e.end();},dispose:()=>{if(jt())return;it=Oe.Disposed,ea.fire(void 0);let f=new k.ResponseError(k.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let v of M.values())v.reject(f);M=new Map,Ge=new Map,rt=new Set,J=new Ec.LinkedMap,H.func(e.dispose)&&e.dispose(),H.func(t.dispose)&&t.dispose();},listen:()=>{yn(),ol(),it=Oe.Listening,t.listen(Zu);},inspect:()=>{(0, Cc.default)().console.log("inspect");}};return Lt.onNotification(vs.type,f=>{if(F===j$1.Off||!ee)return;let v=F===j$1.Verbose||F===j$1.Compact;ee.log(f.message,v?f.verbose:void 0);}),Lt.onNotification(Cn.type,f=>{let v=b.get(f.token);v?v(f.value):Yo.fire(f);}),Lt}q.createMessageConnection=ad;});var Ct=c(y=>{j();h$1();Object.defineProperty(y,"__esModule",{value:!0});y.ProgressType=y.ProgressToken=y.createMessageConnection=y.NullLogger=y.ConnectionOptions=y.ConnectionStrategy=y.AbstractMessageBuffer=y.WriteableStreamMessageWriter=y.AbstractMessageWriter=y.MessageWriter=y.ReadableStreamMessageReader=y.AbstractMessageReader=y.MessageReader=y.SharedArrayReceiverStrategy=y.SharedArraySenderStrategy=y.CancellationToken=y.CancellationTokenSource=y.Emitter=y.Event=y.Disposable=y.LRUCache=y.Touch=y.LinkedMap=y.ParameterStructures=y.NotificationType9=y.NotificationType8=y.NotificationType7=y.NotificationType6=y.NotificationType5=y.NotificationType4=y.NotificationType3=y.NotificationType2=y.NotificationType1=y.NotificationType0=y.NotificationType=y.ErrorCodes=y.ResponseError=y.RequestType9=y.RequestType8=y.RequestType7=y.RequestType6=y.RequestType5=y.RequestType4=y.RequestType3=y.RequestType2=y.RequestType1=y.RequestType0=y.RequestType=y.Message=y.RAL=void 0;y.MessageStrategy=y.CancellationStrategy=y.CancellationSenderStrategy=y.CancellationReceiverStrategy=y.ConnectionError=y.ConnectionErrors=y.LogTraceNotification=y.SetTraceNotification=y.TraceFormat=y.TraceValues=y.Trace=void 0;var L=zi();Object.defineProperty(y,"Message",{enumerable:!0,get:function(){return L.Message}});Object.defineProperty(y,"RequestType",{enumerable:!0,get:function(){return L.RequestType}});Object.defineProperty(y,"RequestType0",{enumerable:!0,get:function(){return L.RequestType0}});Object.defineProperty(y,"RequestType1",{enumerable:!0,get:function(){return L.RequestType1}});Object.defineProperty(y,"RequestType2",{enumerable:!0,get:function(){return L.RequestType2}});Object.defineProperty(y,"RequestType3",{enumerable:!0,get:function(){return L.RequestType3}});Object.defineProperty(y,"RequestType4",{enumerable:!0,get:function(){return L.RequestType4}});Object.defineProperty(y,"RequestType5",{enumerable:!0,get:function(){return L.RequestType5}});Object.defineProperty(y,"RequestType6",{enumerable:!0,get:function(){return L.RequestType6}});Object.defineProperty(y,"RequestType7",{enumerable:!0,get:function(){return L.RequestType7}});Object.defineProperty(y,"RequestType8",{enumerable:!0,get:function(){return L.RequestType8}});Object.defineProperty(y,"RequestType9",{enumerable:!0,get:function(){return L.RequestType9}});Object.defineProperty(y,"ResponseError",{enumerable:!0,get:function(){return L.ResponseError}});Object.defineProperty(y,"ErrorCodes",{enumerable:!0,get:function(){return L.ErrorCodes}});Object.defineProperty(y,"NotificationType",{enumerable:!0,get:function(){return L.NotificationType}});Object.defineProperty(y,"NotificationType0",{enumerable:!0,get:function(){return L.NotificationType0}});Object.defineProperty(y,"NotificationType1",{enumerable:!0,get:function(){return L.NotificationType1}});Object.defineProperty(y,"NotificationType2",{enumerable:!0,get:function(){return L.NotificationType2}});Object.defineProperty(y,"NotificationType3",{enumerable:!0,get:function(){return L.NotificationType3}});Object.defineProperty(y,"NotificationType4",{enumerable:!0,get:function(){return L.NotificationType4}});Object.defineProperty(y,"NotificationType5",{enumerable:!0,get:function(){return L.NotificationType5}});Object.defineProperty(y,"NotificationType6",{enumerable:!0,get:function(){return L.NotificationType6}});Object.defineProperty(y,"NotificationType7",{enumerable:!0,get:function(){return L.NotificationType7}});Object.defineProperty(y,"NotificationType8",{enumerable:!0,get:function(){return L.NotificationType8}});Object.defineProperty(y,"NotificationType9",{enumerable:!0,get:function(){return L.NotificationType9}});Object.defineProperty(y,"ParameterStructures",{enumerable:!0,get:function(){return L.ParameterStructures}});var Ss=Gi();Object.defineProperty(y,"LinkedMap",{enumerable:!0,get:function(){return Ss.LinkedMap}});Object.defineProperty(y,"LRUCache",{enumerable:!0,get:function(){return Ss.LRUCache}});Object.defineProperty(y,"Touch",{enumerable:!0,get:function(){return Ss.Touch}});var cd=_c();Object.defineProperty(y,"Disposable",{enumerable:!0,get:function(){return cd.Disposable}});var Ac=Yt();Object.defineProperty(y,"Event",{enumerable:!0,get:function(){return Ac.Event}});Object.defineProperty(y,"Emitter",{enumerable:!0,get:function(){return Ac.Emitter}});var Lc=yr();Object.defineProperty(y,"CancellationTokenSource",{enumerable:!0,get:function(){return Lc.CancellationTokenSource}});Object.defineProperty(y,"CancellationToken",{enumerable:!0,get:function(){return Lc.CancellationToken}});var Fc=Pc();Object.defineProperty(y,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Fc.SharedArraySenderStrategy}});Object.defineProperty(y,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Fc.SharedArrayReceiverStrategy}});var Ts=Sc();Object.defineProperty(y,"MessageReader",{enumerable:!0,get:function(){return Ts.MessageReader}});Object.defineProperty(y,"AbstractMessageReader",{enumerable:!0,get:function(){return Ts.AbstractMessageReader}});Object.defineProperty(y,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Ts.ReadableStreamMessageReader}});var qs=Dc();Object.defineProperty(y,"MessageWriter",{enumerable:!0,get:function(){return qs.MessageWriter}});Object.defineProperty(y,"AbstractMessageWriter",{enumerable:!0,get:function(){return qs.AbstractMessageWriter}});Object.defineProperty(y,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return qs.WriteableStreamMessageWriter}});var ud=kc();Object.defineProperty(y,"AbstractMessageBuffer",{enumerable:!0,get:function(){return ud.AbstractMessageBuffer}});var se=jc();Object.defineProperty(y,"ConnectionStrategy",{enumerable:!0,get:function(){return se.ConnectionStrategy}});Object.defineProperty(y,"ConnectionOptions",{enumerable:!0,get:function(){return se.ConnectionOptions}});Object.defineProperty(y,"NullLogger",{enumerable:!0,get:function(){return se.NullLogger}});Object.defineProperty(y,"createMessageConnection",{enumerable:!0,get:function(){return se.createMessageConnection}});Object.defineProperty(y,"ProgressToken",{enumerable:!0,get:function(){return se.ProgressToken}});Object.defineProperty(y,"ProgressType",{enumerable:!0,get:function(){return se.ProgressType}});Object.defineProperty(y,"Trace",{enumerable:!0,get:function(){return se.Trace}});Object.defineProperty(y,"TraceValues",{enumerable:!0,get:function(){return se.TraceValues}});Object.defineProperty(y,"TraceFormat",{enumerable:!0,get:function(){return se.TraceFormat}});Object.defineProperty(y,"SetTraceNotification",{enumerable:!0,get:function(){return se.SetTraceNotification}});Object.defineProperty(y,"LogTraceNotification",{enumerable:!0,get:function(){return se.LogTraceNotification}});Object.defineProperty(y,"ConnectionErrors",{enumerable:!0,get:function(){return se.ConnectionErrors}});Object.defineProperty(y,"ConnectionError",{enumerable:!0,get:function(){return se.ConnectionError}});Object.defineProperty(y,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return se.CancellationReceiverStrategy}});Object.defineProperty(y,"CancellationSenderStrategy",{enumerable:!0,get:function(){return se.CancellationSenderStrategy}});Object.defineProperty(y,"CancellationStrategy",{enumerable:!0,get:function(){return se.CancellationStrategy}});Object.defineProperty(y,"MessageStrategy",{enumerable:!0,get:function(){return se.MessageStrategy}});var ld=ht();y.RAL=ld.default;});var Wc=c(Cs=>{j();h$1();Object.defineProperty(Cs,"__esModule",{value:!0});var Ue=Ct(),Pr=class t extends Ue.AbstractMessageBuffer{constructor(e="utf-8"){super(e),this.asciiDecoder=new TextDecoder("ascii");}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return new TextEncoder().encode(e)}toString(e,n){return n==="ascii"?this.asciiDecoder.decode(e):new TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e:e.slice(0,n)}allocNative(e){return new Uint8Array(e)}};Pr.emptyBuffer=new Uint8Array(0);var xs=class{constructor(e){this.socket=e,this._onData=new Ue.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i));},()=>{(0, Ue.RAL)().console.error("Converting blob to array buffer failed.");});},this.socket.addEventListener("message",this._messageListener);}onClose(e){return this.socket.addEventListener("close",e),Ue.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Ue.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Ue.Disposable.create(()=>this.socket.removeEventListener("end",e))}onData(e){return this._onData.event(e)}},Ds=class{constructor(e){this.socket=e;}onClose(e){return this.socket.addEventListener("close",e),Ue.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Ue.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Ue.Disposable.create(()=>this.socket.removeEventListener("end",e))}write(e,n){if(typeof e=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(e);}else this.socket.send(e);return Promise.resolve()}end(){this.socket.close();}},fd=new TextEncoder,Bc=Object.freeze({messageBuffer:Object.freeze({create:t=>new Pr(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{if(e.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${e.charset}`);return Promise.resolve(fd.encode(JSON.stringify(t,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{if(!(t instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(e.charset).decode(t)))}})}),stream:Object.freeze({asReadableStream:t=>new xs(t),asWritableStream:t=>new Ds(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return {dispose:()=>clearTimeout(r)}},setImmediate(t,...e){let n=setTimeout(t,0,...e);return {dispose:()=>clearTimeout(n)}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return {dispose:()=>clearInterval(r)}}})});function ks(){return Bc}(function(t){function e(){Ue.RAL.install(Bc);}t.install=e;})(ks||(ks={}));Cs.default=ks;});var Jc=c(_e=>{j();h$1();var dd=_e&&_e.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i);}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n];}),hd=_e&&_e.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&dd(e,t,n);};Object.defineProperty(_e,"__esModule",{value:!0});_e.createMessageConnection=_e.BrowserMessageWriter=_e.BrowserMessageReader=void 0;var pd=Wc();pd.default.install();var rn=Ct();hd(Ct(),_e);var Es=class extends rn.AbstractMessageReader{constructor(e){super(),this._onData=new rn.Emitter,this._messageListener=n=>{this._onData.fire(n.data);},e.addEventListener("error",n=>this.fireError(n)),e.onmessage=this._messageListener;}listen(e){return this._onData.event(e)}};_e.BrowserMessageReader=Es;var Os=class extends rn.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.addEventListener("error",n=>this.fireError(n));}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount);}end(){}};_e.BrowserMessageWriter=Os;function gd(t,e,n,r){return n===void 0&&(n=rn.NullLogger),rn.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0, rn.createMessageConnection)(t,e,n,r)}_e.createMessageConnection=gd;});var Ns=c((Py,Uc)=>{j();h$1();Uc.exports=Jc();});var zc=c(As=>{j();h$1();Object.defineProperty(As,"__esModule",{value:!0});var Hc=(t(),f(s)),et=Ct(),Sr=class t extends et.AbstractMessageBuffer{constructor(e="utf-8"){super(e);}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return i.from(e,n)}toString(e,n){return e instanceof i?e.toString(n):new Hc.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof i?e:i.from(e):e instanceof i?e.slice(0,n):i.from(e,0,n)}allocNative(e){return i.allocUnsafe(e)}};Sr.emptyBuffer=i.allocUnsafe(0);var Ms=class{constructor(e){this.stream=e;}onClose(e){return this.stream.on("close",e),et.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),et.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),et.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),et.Disposable.create(()=>this.stream.off("data",e))}},Is=class{constructor(e){this.stream=e;}onClose(e){return this.stream.on("close",e),et.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),et.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),et.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o);};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s);})}end(){this.stream.end();}},$c=Object.freeze({messageBuffer:Object.freeze({create:t=>new Sr(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(i.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof i?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Hc.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new Ms(t),asWritableStream:t=>new Is(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return {dispose:()=>clearTimeout(r)}},setImmediate(t,...e){let n=queueMicrotask(t,...e);return {dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return {dispose:()=>clearInterval(r)}}})});function js(){return $c}(function(t){function e(){et.RAL.install($c);}t.install=e;})(js||(js={}));As.default=js;});var on=c(E=>{j();h$1();var md=E&&E.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i);}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n];}),yd=E&&E.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&md(e,t,n);};Object.defineProperty(E,"__esModule",{value:!0});E.createMessageConnection=E.createServerSocketTransport=E.createClientSocketTransport=E.createServerPipeTransport=E.createClientPipeTransport=E.generateRandomPipeName=E.StreamMessageWriter=E.StreamMessageReader=E.SocketMessageWriter=E.SocketMessageReader=E.PortMessageWriter=E.PortMessageReader=E.IPCMessageWriter=E.IPCMessageReader=void 0;var sn=zc();sn.default.install();var Vc=(G$1(),f(F)),vd=(J(),f(I)),bd=(L(),f(K)),xr=(N(),f(M)),Pe=Ct();yd(Ct(),E);var Ls=class extends Pe.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose());}listen(e){return this.process.on("message",e),Pe.Disposable.create(()=>this.process.off("message",e))}};E.IPCMessageReader=Ls;var Fs=class extends Pe.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose);}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0;}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount);}end(){}};E.IPCMessageWriter=Fs;var Bs=class extends Pe.AbstractMessageReader{constructor(e){super(),this.onData=new Pe.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n);});}listen(e){return this.onData.event(e)}};E.PortMessageReader=Bs;var Ws=class extends Pe.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n));}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount);}end(){}};E.PortMessageWriter=Ws;var Et=class extends Pe.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0, sn.default)().stream.asReadableStream(e),n);}};E.SocketMessageReader=Et;var Ot=class extends Pe.WriteableStreamMessageWriter{constructor(e,n){super((0, sn.default)().stream.asWritableStream(e),n),this.socket=e;}dispose(){super.dispose(),this.socket.destroy();}};E.SocketMessageWriter=Ot;var Tr=class extends Pe.ReadableStreamMessageReader{constructor(e,n){super((0, sn.default)().stream.asReadableStream(e),n);}};E.StreamMessageReader=Tr;var qr=class extends Pe.WriteableStreamMessageWriter{constructor(e,n){super((0, sn.default)().stream.asWritableStream(e),n);}};E.StreamMessageWriter=qr;var Gc=g.env.XDG_RUNTIME_DIR,wd=new Map([["linux",107],["darwin",103]]);function Rd(){let t=(0, bd.randomBytes)(21).toString("hex");if(g.platform==="win32")return `\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Gc?e=Vc.join(Gc,`vscode-ipc-${t}.sock`):e=Vc.join(vd.tmpdir(),`vscode-${t}.sock`);let n=wd.get(g.platform);return n!==void 0&&e.length>n&&(0, sn.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}E.generateRandomPipeName=Rd;function _d(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i;});return new Promise((i,s)=>{let o=(0, xr.createServer)(c=>{o.close(),n([new Et(c,e),new Ot(c,e)]);});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r});});})}E.createClientPipeTransport=_d;function Pd(t,e="utf-8"){let n=(0, xr.createConnection)(t);return [new Et(n,e),new Ot(n,e)]}E.createServerPipeTransport=Pd;function Sd(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i;});return new Promise((i,s)=>{let o=(0, xr.createServer)(c=>{o.close(),n([new Et(c,e),new Ot(c,e)]);});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r});});})}E.createClientSocketTransport=Sd;function Td(t,e="utf-8"){let n=(0, xr.createConnection)(t,"127.0.0.1");return [new Et(n,e),new Ot(n,e)]}E.createServerSocketTransport=Td;function qd(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function xd(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function Dd(t,e,n,r){n||(n=Pe.NullLogger);let i=qd(t)?new Tr(t):t,s=xd(e)?new qr(e):e;return Pe.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0, Pe.createMessageConnection)(i,s,n,r)}E.createMessageConnection=Dd;});var jr={};d(jr,{AnnotatedTextEdit:()=>tt,ChangeAnnotation:()=>Nt,ChangeAnnotationIdentifier:()=>oe,CodeAction:()=>_o,CodeActionContext:()=>Ro,CodeActionKind:()=>wo,CodeActionTriggerKind:()=>Ln,CodeDescription:()=>Zs,CodeLens:()=>Po,Color:()=>Cr,ColorInformation:()=>$s,ColorPresentation:()=>zs,Command:()=>Mt,CompletionItem:()=>ao,CompletionItemKind:()=>to,CompletionItemLabelDetails:()=>oo,CompletionItemTag:()=>ro,CompletionList:()=>co,CreateFile:()=>an,DeleteFile:()=>un,Diagnostic:()=>Mn,DiagnosticRelatedInformation:()=>Er,DiagnosticSeverity:()=>Qs,DiagnosticTag:()=>Xs,DocumentHighlight:()=>po,DocumentHighlightKind:()=>ho,DocumentLink:()=>To,DocumentSymbol:()=>bo,DocumentUri:()=>Js,EOL:()=>Cd,FoldingRange:()=>Gs,FoldingRangeKind:()=>Vs,FormattingOptions:()=>So,Hover:()=>uo,InlayHint:()=>Mo,InlayHintKind:()=>Mr,InlayHintLabelPart:()=>Ir,InlineValueContext:()=>No,InlineValueEvaluatableExpression:()=>Oo,InlineValueText:()=>Co,InlineValueVariableLookup:()=>Eo,InsertReplaceEdit:()=>io,InsertTextFormat:()=>no,InsertTextMode:()=>so,Location:()=>Nn,LocationLink:()=>Hs,MarkedString:()=>An,MarkupContent:()=>ln,MarkupKind:()=>Nr,OptionalVersionedTextDocumentIdentifier:()=>jn,ParameterInformation:()=>lo,Position:()=>qe,Range:()=>G,RenameFile:()=>cn,SelectionRange:()=>qo,SemanticTokenModifiers:()=>Do,SemanticTokenTypes:()=>xo,SemanticTokens:()=>ko,SignatureInformation:()=>fo,SymbolInformation:()=>yo,SymbolKind:()=>go,SymbolTag:()=>mo,TextDocument:()=>jo,TextDocumentEdit:()=>In,TextDocumentIdentifier:()=>Ks,TextDocumentItem:()=>eo,TextEdit:()=>He,URI:()=>kr,VersionedTextDocumentIdentifier:()=>Ys,WorkspaceChange:()=>kd,WorkspaceEdit:()=>Or,WorkspaceFolder:()=>Io,WorkspaceSymbol:()=>vo,integer:()=>Us,uinteger:()=>On});var Js,kr,Us,On,qe,G,Nn,Hs,Cr,$s,zs,Vs,Gs,Er,Qs,Xs,Zs,Mn,Mt,He,Nt,oe,tt,In,an,cn,un,Or,Dr,Qc,kd,Ks,Ys,jn,eo,Nr,ln,to,no,ro,io,so,oo,ao,co,An,uo,lo,fo,ho,po,go,mo,yo,vo,bo,wo,Ln,Ro,_o,Po,So,To,qo,xo,Do,ko,Co,Eo,Oo,No,Mr,Ir,Mo,Io,Cd,jo,Ed,h,Ar=b(()=>{j();h$1();(function(t){function e(n){return typeof n=="string"}t.is=e;})(Js||(Js={}));(function(t){function e(n){return typeof n=="string"}t.is=e;})(kr||(kr={}));(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e;})(Us||(Us={}));(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e;})(On||(On={}));(function(t){function e(r,i){return r===Number.MAX_VALUE&&(r=On.MAX_VALUE),i===Number.MAX_VALUE&&(i=On.MAX_VALUE),{line:r,character:i}}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&h.uinteger(i.line)&&h.uinteger(i.character)}t.is=n;})(qe||(qe={}));(function(t){function e(r,i,s,o){if(h.uinteger(r)&&h.uinteger(i)&&h.uinteger(s)&&h.uinteger(o))return {start:qe.create(r,i),end:qe.create(s,o)};if(qe.is(r)&&qe.is(i))return {start:r,end:i};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(i,", ").concat(s,", ").concat(o,"]"))}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&qe.is(i.start)&&qe.is(i.end)}t.is=n;})(G||(G={}));(function(t){function e(r,i){return {uri:r,range:i}}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&G.is(i.range)&&(h.string(i.uri)||h.undefined(i.uri))}t.is=n;})(Nn||(Nn={}));(function(t){function e(r,i,s,o){return {targetUri:r,targetRange:i,targetSelectionRange:s,originSelectionRange:o}}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&G.is(i.targetRange)&&h.string(i.targetUri)&&G.is(i.targetSelectionRange)&&(G.is(i.originSelectionRange)||h.undefined(i.originSelectionRange))}t.is=n;})(Hs||(Hs={}));(function(t){function e(r,i,s,o){return {red:r,green:i,blue:s,alpha:o}}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&h.numberRange(i.red,0,1)&&h.numberRange(i.green,0,1)&&h.numberRange(i.blue,0,1)&&h.numberRange(i.alpha,0,1)}t.is=n;})(Cr||(Cr={}));(function(t){function e(r,i){return {range:r,color:i}}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&G.is(i.range)&&Cr.is(i.color)}t.is=n;})($s||($s={}));(function(t){function e(r,i,s){return {label:r,textEdit:i,additionalTextEdits:s}}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&h.string(i.label)&&(h.undefined(i.textEdit)||He.is(i))&&(h.undefined(i.additionalTextEdits)||h.typedArray(i.additionalTextEdits,He.is))}t.is=n;})(zs||(zs={}));(function(t){t.Comment="comment",t.Imports="imports",t.Region="region";})(Vs||(Vs={}));(function(t){function e(r,i,s,o,c,l){var a={startLine:r,endLine:i};return h.defined(s)&&(a.startCharacter=s),h.defined(o)&&(a.endCharacter=o),h.defined(c)&&(a.kind=c),h.defined(l)&&(a.collapsedText=l),a}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&h.uinteger(i.startLine)&&h.uinteger(i.startLine)&&(h.undefined(i.startCharacter)||h.uinteger(i.startCharacter))&&(h.undefined(i.endCharacter)||h.uinteger(i.endCharacter))&&(h.undefined(i.kind)||h.string(i.kind))}t.is=n;})(Gs||(Gs={}));(function(t){function e(r,i){return {location:r,message:i}}t.create=e;function n(r){var i=r;return h.defined(i)&&Nn.is(i.location)&&h.string(i.message)}t.is=n;})(Er||(Er={}));(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4;})(Qs||(Qs={}));(function(t){t.Unnecessary=1,t.Deprecated=2;})(Xs||(Xs={}));(function(t){function e(n){var r=n;return h.objectLiteral(r)&&h.string(r.href)}t.is=e;})(Zs||(Zs={}));(function(t){function e(r,i,s,o,c,l){var a={range:r,message:i};return h.defined(s)&&(a.severity=s),h.defined(o)&&(a.code=o),h.defined(c)&&(a.source=c),h.defined(l)&&(a.relatedInformation=l),a}t.create=e;function n(r){var i,s=r;return h.defined(s)&&G.is(s.range)&&h.string(s.message)&&(h.number(s.severity)||h.undefined(s.severity))&&(h.integer(s.code)||h.string(s.code)||h.undefined(s.code))&&(h.undefined(s.codeDescription)||h.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(h.string(s.source)||h.undefined(s.source))&&(h.undefined(s.relatedInformation)||h.typedArray(s.relatedInformation,Er.is))}t.is=n;})(Mn||(Mn={}));(function(t){function e(r,i){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var c={title:r,command:i};return h.defined(s)&&s.length>0&&(c.arguments=s),c}t.create=e;function n(r){var i=r;return h.defined(i)&&h.string(i.title)&&h.string(i.command)}t.is=n;})(Mt||(Mt={}));(function(t){function e(s,o){return {range:s,newText:o}}t.replace=e;function n(s,o){return {range:{start:s,end:s},newText:o}}t.insert=n;function r(s){return {range:s,newText:""}}t.del=r;function i(s){var o=s;return h.objectLiteral(o)&&h.string(o.newText)&&G.is(o.range)}t.is=i;})(He||(He={}));(function(t){function e(r,i,s){var o={label:r};return i!==void 0&&(o.needsConfirmation=i),s!==void 0&&(o.description=s),o}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&h.string(i.label)&&(h.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(h.string(i.description)||i.description===void 0)}t.is=n;})(Nt||(Nt={}));(function(t){function e(n){var r=n;return h.string(r)}t.is=e;})(oe||(oe={}));(function(t){function e(s,o,c){return {range:s,newText:o,annotationId:c}}t.replace=e;function n(s,o,c){return {range:{start:s,end:s},newText:o,annotationId:c}}t.insert=n;function r(s,o){return {range:s,newText:"",annotationId:o}}t.del=r;function i(s){var o=s;return He.is(o)&&(Nt.is(o.annotationId)||oe.is(o.annotationId))}t.is=i;})(tt||(tt={}));(function(t){function e(r,i){return {textDocument:r,edits:i}}t.create=e;function n(r){var i=r;return h.defined(i)&&jn.is(i.textDocument)&&Array.isArray(i.edits)}t.is=n;})(In||(In={}));(function(t){function e(r,i,s){var o={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}t.create=e;function n(r){var i=r;return i&&i.kind==="create"&&h.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||h.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||h.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||oe.is(i.annotationId))}t.is=n;})(an||(an={}));(function(t){function e(r,i,s,o){var c={kind:"rename",oldUri:r,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(c.options=s),o!==void 0&&(c.annotationId=o),c}t.create=e;function n(r){var i=r;return i&&i.kind==="rename"&&h.string(i.oldUri)&&h.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||h.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||h.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||oe.is(i.annotationId))}t.is=n;})(cn||(cn={}));(function(t){function e(r,i,s){var o={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}t.create=e;function n(r){var i=r;return i&&i.kind==="delete"&&h.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||h.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||h.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||oe.is(i.annotationId))}t.is=n;})(un||(un={}));(function(t){function e(n){var r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(i){return h.string(i.kind)?an.is(i)||cn.is(i)||un.is(i):In.is(i)}))}t.is=e;})(Or||(Or={}));Dr=function(){function t(e,n){this.edits=e,this.changeAnnotations=n;}return t.prototype.insert=function(e,n,r){var i,s;if(r===void 0?i=He.insert(e,n):oe.is(r)?(s=r,i=tt.insert(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=tt.insert(e,n,s)),this.edits.push(i),s!==void 0)return s},t.prototype.replace=function(e,n,r){var i,s;if(r===void 0?i=He.replace(e,n):oe.is(r)?(s=r,i=tt.replace(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=tt.replace(e,n,s)),this.edits.push(i),s!==void 0)return s},t.prototype.delete=function(e,n){var r,i;if(n===void 0?r=He.del(e):oe.is(n)?(i=n,r=tt.del(e,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=tt.del(e,i)),this.edits.push(r),i!==void 0)return i},t.prototype.add=function(e){this.edits.push(e);},t.prototype.all=function(){return this.edits},t.prototype.clear=function(){this.edits.splice(0,this.edits.length);},t.prototype.assertChangeAnnotations=function(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},t}(),Qc=function(){function t(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0;}return t.prototype.all=function(){return this._annotations},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.manage=function(e,n){var r;if(oe.is(e)?r=e:(r=this.nextId(),n=e),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(n===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=n,this._size++,r},t.prototype.nextId=function(){return this._counter++,this._counter.toString()},t}(),kd=function(){function t(e){var n=this;this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Qc(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(function(r){if(In.is(r)){var i=new Dr(r.edits,n._changeAnnotations);n._textEditChanges[r.textDocument.uri]=i;}})):e.changes&&Object.keys(e.changes).forEach(function(r){var i=new Dr(e.changes[r]);n._textEditChanges[r]=i;})):this._workspaceEdit={};}return Object.defineProperty(t.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),t.prototype.getTextEditChange=function(e){if(jn.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n={uri:e.uri,version:e.version},r=this._textEditChanges[n.uri];if(!r){var i=[],s={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(s),r=new Dr(i,this._changeAnnotations),this._textEditChanges[n.uri]=r;}return r}else {if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[e];if(!r){var i=[];this._workspaceEdit.changes[e]=i,r=new Dr(i),this._textEditChanges[e]=r;}return r}},t.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Qc,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all());},t.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null));},t.prototype.createFile=function(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Nt.is(n)||oe.is(n)?i=n:r=n;var s,o;if(i===void 0?s=an.create(e,r):(o=oe.is(i)?i:this._changeAnnotations.manage(i),s=an.create(e,r,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},t.prototype.renameFile=function(e,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var s;Nt.is(r)||oe.is(r)?s=r:i=r;var o,c;if(s===void 0?o=cn.create(e,n,i):(c=oe.is(s)?s:this._changeAnnotations.manage(s),o=cn.create(e,n,i,c)),this._workspaceEdit.documentChanges.push(o),c!==void 0)return c},t.prototype.deleteFile=function(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Nt.is(n)||oe.is(n)?i=n:r=n;var s,o;if(i===void 0?s=un.create(e,r):(o=oe.is(i)?i:this._changeAnnotations.manage(i),s=un.create(e,r,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o},t}();(function(t){function e(r){return {uri:r}}t.create=e;function n(r){var i=r;return h.defined(i)&&h.string(i.uri)}t.is=n;})(Ks||(Ks={}));(function(t){function e(r,i){return {uri:r,version:i}}t.create=e;function n(r){var i=r;return h.defined(i)&&h.string(i.uri)&&h.integer(i.version)}t.is=n;})(Ys||(Ys={}));(function(t){function e(r,i){return {uri:r,version:i}}t.create=e;function n(r){var i=r;return h.defined(i)&&h.string(i.uri)&&(i.version===null||h.integer(i.version))}t.is=n;})(jn||(jn={}));(function(t){function e(r,i,s,o){return {uri:r,languageId:i,version:s,text:o}}t.create=e;function n(r){var i=r;return h.defined(i)&&h.string(i.uri)&&h.string(i.languageId)&&h.integer(i.version)&&h.string(i.text)}t.is=n;})(eo||(eo={}));(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(n){var r=n;return r===t.PlainText||r===t.Markdown}t.is=e;})(Nr||(Nr={}));(function(t){function e(n){var r=n;return h.objectLiteral(n)&&Nr.is(r.kind)&&h.string(r.value)}t.is=e;})(ln||(ln={}));(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25;})(to||(to={}));(function(t){t.PlainText=1,t.Snippet=2;})(no||(no={}));(function(t){t.Deprecated=1;})(ro||(ro={}));(function(t){function e(r,i,s){return {newText:r,insert:i,replace:s}}t.create=e;function n(r){var i=r;return i&&h.string(i.newText)&&G.is(i.insert)&&G.is(i.replace)}t.is=n;})(io||(io={}));(function(t){t.asIs=1,t.adjustIndentation=2;})(so||(so={}));(function(t){function e(n){var r=n;return r&&(h.string(r.detail)||r.detail===void 0)&&(h.string(r.description)||r.description===void 0)}t.is=e;})(oo||(oo={}));(function(t){function e(n){return {label:n}}t.create=e;})(ao||(ao={}));(function(t){function e(n,r){return {items:n||[],isIncomplete:!!r}}t.create=e;})(co||(co={}));(function(t){function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function n(r){var i=r;return h.string(i)||h.objectLiteral(i)&&h.string(i.language)&&h.string(i.value)}t.is=n;})(An||(An={}));(function(t){function e(n){var r=n;return !!r&&h.objectLiteral(r)&&(ln.is(r.contents)||An.is(r.contents)||h.typedArray(r.contents,An.is))&&(n.range===void 0||G.is(n.range))}t.is=e;})(uo||(uo={}));(function(t){function e(n,r){return r?{label:n,documentation:r}:{label:n}}t.create=e;})(lo||(lo={}));(function(t){function e(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var o={label:n};return h.defined(r)&&(o.documentation=r),h.defined(i)?o.parameters=i:o.parameters=[],o}t.create=e;})(fo||(fo={}));(function(t){t.Text=1,t.Read=2,t.Write=3;})(ho||(ho={}));(function(t){function e(n,r){var i={range:n};return h.number(r)&&(i.kind=r),i}t.create=e;})(po||(po={}));(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26;})(go||(go={}));(function(t){t.Deprecated=1;})(mo||(mo={}));(function(t){function e(n,r,i,s,o){var c={name:n,kind:r,location:{uri:s,range:i}};return o&&(c.containerName=o),c}t.create=e;})(yo||(yo={}));(function(t){function e(n,r,i,s){return s!==void 0?{name:n,kind:r,location:{uri:i,range:s}}:{name:n,kind:r,location:{uri:i}}}t.create=e;})(vo||(vo={}));(function(t){function e(r,i,s,o,c,l){var a={name:r,detail:i,kind:s,range:o,selectionRange:c};return l!==void 0&&(a.children=l),a}t.create=e;function n(r){var i=r;return i&&h.string(i.name)&&h.number(i.kind)&&G.is(i.range)&&G.is(i.selectionRange)&&(i.detail===void 0||h.string(i.detail))&&(i.deprecated===void 0||h.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=n;})(bo||(bo={}));(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll";})(wo||(wo={}));(function(t){t.Invoked=1,t.Automatic=2;})(Ln||(Ln={}));(function(t){function e(r,i,s){var o={diagnostics:r};return i!=null&&(o.only=i),s!=null&&(o.triggerKind=s),o}t.create=e;function n(r){var i=r;return h.defined(i)&&h.typedArray(i.diagnostics,Mn.is)&&(i.only===void 0||h.typedArray(i.only,h.string))&&(i.triggerKind===void 0||i.triggerKind===Ln.Invoked||i.triggerKind===Ln.Automatic)}t.is=n;})(Ro||(Ro={}));(function(t){function e(r,i,s){var o={title:r},c=!0;return typeof i=="string"?(c=!1,o.kind=i):Mt.is(i)?o.command=i:o.edit=i,c&&s!==void 0&&(o.kind=s),o}t.create=e;function n(r){var i=r;return i&&h.string(i.title)&&(i.diagnostics===void 0||h.typedArray(i.diagnostics,Mn.is))&&(i.kind===void 0||h.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Mt.is(i.command))&&(i.isPreferred===void 0||h.boolean(i.isPreferred))&&(i.edit===void 0||Or.is(i.edit))}t.is=n;})(_o||(_o={}));(function(t){function e(r,i){var s={range:r};return h.defined(i)&&(s.data=i),s}t.create=e;function n(r){var i=r;return h.defined(i)&&G.is(i.range)&&(h.undefined(i.command)||Mt.is(i.command))}t.is=n;})(Po||(Po={}));(function(t){function e(r,i){return {tabSize:r,insertSpaces:i}}t.create=e;function n(r){var i=r;return h.defined(i)&&h.uinteger(i.tabSize)&&h.boolean(i.insertSpaces)}t.is=n;})(So||(So={}));(function(t){function e(r,i,s){return {range:r,target:i,data:s}}t.create=e;function n(r){var i=r;return h.defined(i)&&G.is(i.range)&&(h.undefined(i.target)||h.string(i.target))}t.is=n;})(To||(To={}));(function(t){function e(r,i){return {range:r,parent:i}}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&G.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=n;})(qo||(qo={}));(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator";})(xo||(xo={}));(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary";})(Do||(Do={}));(function(t){function e(n){var r=n;return h.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e;})(ko||(ko={}));(function(t){function e(r,i){return {range:r,text:i}}t.create=e;function n(r){var i=r;return i!=null&&G.is(i.range)&&h.string(i.text)}t.is=n;})(Co||(Co={}));(function(t){function e(r,i,s){return {range:r,variableName:i,caseSensitiveLookup:s}}t.create=e;function n(r){var i=r;return i!=null&&G.is(i.range)&&h.boolean(i.caseSensitiveLookup)&&(h.string(i.variableName)||i.variableName===void 0)}t.is=n;})(Eo||(Eo={}));(function(t){function e(r,i){return {range:r,expression:i}}t.create=e;function n(r){var i=r;return i!=null&&G.is(i.range)&&(h.string(i.expression)||i.expression===void 0)}t.is=n;})(Oo||(Oo={}));(function(t){function e(r,i){return {frameId:r,stoppedLocation:i}}t.create=e;function n(r){var i=r;return h.defined(i)&&G.is(r.stoppedLocation)}t.is=n;})(No||(No={}));(function(t){t.Type=1,t.Parameter=2;function e(n){return n===1||n===2}t.is=e;})(Mr||(Mr={}));(function(t){function e(r){return {value:r}}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&(i.tooltip===void 0||h.string(i.tooltip)||ln.is(i.tooltip))&&(i.location===void 0||Nn.is(i.location))&&(i.command===void 0||Mt.is(i.command))}t.is=n;})(Ir||(Ir={}));(function(t){function e(r,i,s){var o={position:r,label:i};return s!==void 0&&(o.kind=s),o}t.create=e;function n(r){var i=r;return h.objectLiteral(i)&&qe.is(i.position)&&(h.string(i.label)||h.typedArray(i.label,Ir.is))&&(i.kind===void 0||Mr.is(i.kind))&&i.textEdits===void 0||h.typedArray(i.textEdits,He.is)&&(i.tooltip===void 0||h.string(i.tooltip)||ln.is(i.tooltip))&&(i.paddingLeft===void 0||h.boolean(i.paddingLeft))&&(i.paddingRight===void 0||h.boolean(i.paddingRight))}t.is=n;})(Mo||(Mo={}));(function(t){function e(n){var r=n;return h.objectLiteral(r)&&kr.is(r.uri)&&h.string(r.name)}t.is=e;})(Io||(Io={}));Cd=[`
`,`\r
`,"\r"];(function(t){function e(s,o,c,l){return new Ed(s,o,c,l)}t.create=e;function n(s){var o=s;return !!(h.defined(o)&&h.string(o.uri)&&(h.undefined(o.languageId)||h.string(o.languageId))&&h.uinteger(o.lineCount)&&h.func(o.getText)&&h.func(o.positionAt)&&h.func(o.offsetAt))}t.is=n;function r(s,o){for(var c=s.getText(),l=i(o,function(C,J){var M=C.range.start.line-J.range.start.line;return M===0?C.range.start.character-J.range.start.character:M}),a=c.length,d=l.length-1;d>=0;d--){var p=l[d],R=s.offsetAt(p.range.start),b=s.offsetAt(p.range.end);if(b<=a)c=c.substring(0,R)+p.newText+c.substring(b,c.length);else throw new Error("Overlapping edit");a=R;}return c}t.applyEdits=r;function i(s,o){if(s.length<=1)return s;var c=s.length/2|0,l=s.slice(0,c),a=s.slice(c);i(l,o),i(a,o);for(var d=0,p=0,R=0;d<l.length&&p<a.length;){var b=o(l[d],a[p]);b<=0?s[R++]=l[d++]:s[R++]=a[p++];}for(;d<l.length;)s[R++]=l[d++];for(;p<a.length;)s[R++]=a[p++];return s}})(jo||(jo={}));Ed=function(){function t(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0;}return Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),t.prototype.getText=function(e){if(e){var n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content},t.prototype.update=function(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0;},t.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var e=[],n=this._content,r=!0,i=0;i<n.length;i++){r&&(e.push(i),r=!1);var s=n.charAt(i);r=s==="\r"||s===`
`,s==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++;}r&&n.length>0&&e.push(n.length),this._lineOffsets=e;}return this._lineOffsets},t.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return qe.create(0,e);for(;r<i;){var s=Math.floor((r+i)/2);n[s]>e?i=s:r=s+1;}var o=r-1;return qe.create(o,e-n[o])},t.prototype.offsetAt=function(e){var n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;var r=n[e.line],i=e.line+1<n.length?n[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,i),r)},Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),t}();(function(t){var e=Object.prototype.toString;function n(b){return typeof b<"u"}t.defined=n;function r(b){return typeof b>"u"}t.undefined=r;function i(b){return b===!0||b===!1}t.boolean=i;function s(b){return e.call(b)==="[object String]"}t.string=s;function o(b){return e.call(b)==="[object Number]"}t.number=o;function c(b,C,J){return e.call(b)==="[object Number]"&&C<=b&&b<=J}t.numberRange=c;function l(b){return e.call(b)==="[object Number]"&&-2147483648<=b&&b<=2147483647}t.integer=l;function a(b){return e.call(b)==="[object Number]"&&0<=b&&b<=2147483647}t.uinteger=a;function d(b){return e.call(b)==="[object Function]"}t.func=d;function p(b){return b!==null&&typeof b=="object"}t.objectLiteral=p;function R(b,C){return Array.isArray(b)&&b.every(C)}t.typedArray=R;})(h||(h={}));});var $=c(me=>{j();h$1();Object.defineProperty(me,"__esModule",{value:!0});me.ProtocolNotificationType=me.ProtocolNotificationType0=me.ProtocolRequestType=me.ProtocolRequestType0=me.RegistrationType=me.MessageDirection=void 0;var fn=on();(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both";})(me.MessageDirection||(me.MessageDirection={}));var Ao=class{constructor(e){this.method=e;}};me.RegistrationType=Ao;var Lo=class extends fn.RequestType0{constructor(e){super(e);}};me.ProtocolRequestType0=Lo;var Fo=class extends fn.RequestType{constructor(e){super(e,fn.ParameterStructures.byName);}};me.ProtocolRequestType=Fo;var Bo=class extends fn.NotificationType0{constructor(e){super(e);}};me.ProtocolNotificationType0=Bo;var Wo=class extends fn.NotificationType{constructor(e){super(e,fn.ParameterStructures.byName);}};me.ProtocolNotificationType=Wo;});var Lr=c(K=>{j();h$1();Object.defineProperty(K,"__esModule",{value:!0});K.objectLiteral=K.typedArray=K.stringArray=K.array=K.func=K.error=K.number=K.string=K.boolean=void 0;function Nd(t){return t===!0||t===!1}K.boolean=Nd;function Xc(t){return typeof t=="string"||t instanceof String}K.string=Xc;function Md(t){return typeof t=="number"||t instanceof Number}K.number=Md;function Id(t){return t instanceof Error}K.error=Id;function jd(t){return typeof t=="function"}K.func=jd;function Zc(t){return Array.isArray(t)}K.array=Zc;function Ad(t){return Zc(t)&&t.every(e=>Xc(e))}K.stringArray=Ad;function Ld(t,e){return Array.isArray(t)&&t.every(e)}K.typedArray=Ld;function Fd(t){return t!==null&&typeof t=="object"}K.objectLiteral=Fd;});var Yc=c(Fn=>{j();h$1();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.ImplementationRequest=void 0;var Kc=$();(function(t){t.method="textDocument/implementation",t.messageDirection=Kc.MessageDirection.clientToServer,t.type=new Kc.ProtocolRequestType(t.method);})(Fn.ImplementationRequest||(Fn.ImplementationRequest={}));});var tu=c(Bn=>{j();h$1();Object.defineProperty(Bn,"__esModule",{value:!0});Bn.TypeDefinitionRequest=void 0;var eu=$();(function(t){t.method="textDocument/typeDefinition",t.messageDirection=eu.MessageDirection.clientToServer,t.type=new eu.ProtocolRequestType(t.method);})(Bn.TypeDefinitionRequest||(Bn.TypeDefinitionRequest={}));});var nu=c(pt=>{j();h$1();Object.defineProperty(pt,"__esModule",{value:!0});pt.DidChangeWorkspaceFoldersNotification=pt.WorkspaceFoldersRequest=void 0;var Fr=$();(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Fr.MessageDirection.serverToClient,t.type=new Fr.ProtocolRequestType0(t.method);})(pt.WorkspaceFoldersRequest||(pt.WorkspaceFoldersRequest={}));(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method);})(pt.DidChangeWorkspaceFoldersNotification||(pt.DidChangeWorkspaceFoldersNotification={}));});var iu=c(Wn=>{j();h$1();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.ConfigurationRequest=void 0;var ru=$();(function(t){t.method="workspace/configuration",t.messageDirection=ru.MessageDirection.serverToClient,t.type=new ru.ProtocolRequestType(t.method);})(Wn.ConfigurationRequest||(Wn.ConfigurationRequest={}));});var su=c(gt=>{j();h$1();Object.defineProperty(gt,"__esModule",{value:!0});gt.ColorPresentationRequest=gt.DocumentColorRequest=void 0;var Br=$();(function(t){t.method="textDocument/documentColor",t.messageDirection=Br.MessageDirection.clientToServer,t.type=new Br.ProtocolRequestType(t.method);})(gt.DocumentColorRequest||(gt.DocumentColorRequest={}));(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Br.MessageDirection.clientToServer,t.type=new Br.ProtocolRequestType(t.method);})(gt.ColorPresentationRequest||(gt.ColorPresentationRequest={}));});var au=c(Jn=>{j();h$1();Object.defineProperty(Jn,"__esModule",{value:!0});Jn.FoldingRangeRequest=void 0;var ou=$();(function(t){t.method="textDocument/foldingRange",t.messageDirection=ou.MessageDirection.clientToServer,t.type=new ou.ProtocolRequestType(t.method);})(Jn.FoldingRangeRequest||(Jn.FoldingRangeRequest={}));});var uu=c(Un=>{j();h$1();Object.defineProperty(Un,"__esModule",{value:!0});Un.DeclarationRequest=void 0;var cu=$();(function(t){t.method="textDocument/declaration",t.messageDirection=cu.MessageDirection.clientToServer,t.type=new cu.ProtocolRequestType(t.method);})(Un.DeclarationRequest||(Un.DeclarationRequest={}));});var fu=c(Hn=>{j();h$1();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.SelectionRangeRequest=void 0;var lu=$();(function(t){t.method="textDocument/selectionRange",t.messageDirection=lu.MessageDirection.clientToServer,t.type=new lu.ProtocolRequestType(t.method);})(Hn.SelectionRangeRequest||(Hn.SelectionRangeRequest={}));});var du=c(Ne=>{j();h$1();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.WorkDoneProgressCancelNotification=Ne.WorkDoneProgressCreateRequest=Ne.WorkDoneProgress=void 0;var Xd=on(),Wr=$();(function(t){t.type=new Xd.ProgressType;function e(n){return n===t.type}t.is=e;})(Ne.WorkDoneProgress||(Ne.WorkDoneProgress={}));(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Wr.MessageDirection.serverToClient,t.type=new Wr.ProtocolRequestType(t.method);})(Ne.WorkDoneProgressCreateRequest||(Ne.WorkDoneProgressCreateRequest={}));(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Wr.MessageDirection.clientToServer,t.type=new Wr.ProtocolNotificationType(t.method);})(Ne.WorkDoneProgressCancelNotification||(Ne.WorkDoneProgressCancelNotification={}));});var hu=c(Me=>{j();h$1();Object.defineProperty(Me,"__esModule",{value:!0});Me.CallHierarchyOutgoingCallsRequest=Me.CallHierarchyIncomingCallsRequest=Me.CallHierarchyPrepareRequest=void 0;var dn=$();(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolRequestType(t.method);})(Me.CallHierarchyPrepareRequest||(Me.CallHierarchyPrepareRequest={}));(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolRequestType(t.method);})(Me.CallHierarchyIncomingCallsRequest||(Me.CallHierarchyIncomingCallsRequest={}));(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolRequestType(t.method);})(Me.CallHierarchyOutgoingCallsRequest||(Me.CallHierarchyOutgoingCallsRequest={}));});var pu=c(Y=>{j();h$1();Object.defineProperty(Y,"__esModule",{value:!0});Y.SemanticTokensRefreshRequest=Y.SemanticTokensRangeRequest=Y.SemanticTokensDeltaRequest=Y.SemanticTokensRequest=Y.SemanticTokensRegistrationType=Y.TokenFormat=void 0;var nt=$();(function(t){t.Relative="relative";})(Y.TokenFormat||(Y.TokenFormat={}));var Jr;(function(t){t.method="textDocument/semanticTokens",t.type=new nt.RegistrationType(t.method);})(Jr=Y.SemanticTokensRegistrationType||(Y.SemanticTokensRegistrationType={}));(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=nt.MessageDirection.clientToServer,t.type=new nt.ProtocolRequestType(t.method),t.registrationMethod=Jr.method;})(Y.SemanticTokensRequest||(Y.SemanticTokensRequest={}));(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=nt.MessageDirection.clientToServer,t.type=new nt.ProtocolRequestType(t.method),t.registrationMethod=Jr.method;})(Y.SemanticTokensDeltaRequest||(Y.SemanticTokensDeltaRequest={}));(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=nt.MessageDirection.clientToServer,t.type=new nt.ProtocolRequestType(t.method),t.registrationMethod=Jr.method;})(Y.SemanticTokensRangeRequest||(Y.SemanticTokensRangeRequest={}));(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=nt.MessageDirection.serverToClient,t.type=new nt.ProtocolRequestType0(t.method);})(Y.SemanticTokensRefreshRequest||(Y.SemanticTokensRefreshRequest={}));});var mu=c($n=>{j();h$1();Object.defineProperty($n,"__esModule",{value:!0});$n.ShowDocumentRequest=void 0;var gu=$();(function(t){t.method="window/showDocument",t.messageDirection=gu.MessageDirection.serverToClient,t.type=new gu.ProtocolRequestType(t.method);})($n.ShowDocumentRequest||($n.ShowDocumentRequest={}));});var vu=c(zn=>{j();h$1();Object.defineProperty(zn,"__esModule",{value:!0});zn.LinkedEditingRangeRequest=void 0;var yu=$();(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=yu.MessageDirection.clientToServer,t.type=new yu.ProtocolRequestType(t.method);})(zn.LinkedEditingRangeRequest||(zn.LinkedEditingRangeRequest={}));});var bu=c(z=>{j();h$1();Object.defineProperty(z,"__esModule",{value:!0});z.WillDeleteFilesRequest=z.DidDeleteFilesNotification=z.DidRenameFilesNotification=z.WillRenameFilesRequest=z.DidCreateFilesNotification=z.WillCreateFilesRequest=z.FileOperationPatternKind=void 0;var xe=$();(function(t){t.file="file",t.folder="folder";})(z.FileOperationPatternKind||(z.FileOperationPatternKind={}));(function(t){t.method="workspace/willCreateFiles",t.messageDirection=xe.MessageDirection.clientToServer,t.type=new xe.ProtocolRequestType(t.method);})(z.WillCreateFilesRequest||(z.WillCreateFilesRequest={}));(function(t){t.method="workspace/didCreateFiles",t.messageDirection=xe.MessageDirection.clientToServer,t.type=new xe.ProtocolNotificationType(t.method);})(z.DidCreateFilesNotification||(z.DidCreateFilesNotification={}));(function(t){t.method="workspace/willRenameFiles",t.messageDirection=xe.MessageDirection.clientToServer,t.type=new xe.ProtocolRequestType(t.method);})(z.WillRenameFilesRequest||(z.WillRenameFilesRequest={}));(function(t){t.method="workspace/didRenameFiles",t.messageDirection=xe.MessageDirection.clientToServer,t.type=new xe.ProtocolNotificationType(t.method);})(z.DidRenameFilesNotification||(z.DidRenameFilesNotification={}));(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=xe.MessageDirection.clientToServer,t.type=new xe.ProtocolNotificationType(t.method);})(z.DidDeleteFilesNotification||(z.DidDeleteFilesNotification={}));(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=xe.MessageDirection.clientToServer,t.type=new xe.ProtocolRequestType(t.method);})(z.WillDeleteFilesRequest||(z.WillDeleteFilesRequest={}));});var Ru=c(Ie=>{j();h$1();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.MonikerRequest=Ie.MonikerKind=Ie.UniquenessLevel=void 0;var wu=$();(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global";})(Ie.UniquenessLevel||(Ie.UniquenessLevel={}));(function(t){t.$import="import",t.$export="export",t.local="local";})(Ie.MonikerKind||(Ie.MonikerKind={}));(function(t){t.method="textDocument/moniker",t.messageDirection=wu.MessageDirection.clientToServer,t.type=new wu.ProtocolRequestType(t.method);})(Ie.MonikerRequest||(Ie.MonikerRequest={}));});var _u=c(je=>{j();h$1();Object.defineProperty(je,"__esModule",{value:!0});je.TypeHierarchySubtypesRequest=je.TypeHierarchySupertypesRequest=je.TypeHierarchyPrepareRequest=void 0;var hn=$();(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=hn.MessageDirection.clientToServer,t.type=new hn.ProtocolRequestType(t.method);})(je.TypeHierarchyPrepareRequest||(je.TypeHierarchyPrepareRequest={}));(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=hn.MessageDirection.clientToServer,t.type=new hn.ProtocolRequestType(t.method);})(je.TypeHierarchySupertypesRequest||(je.TypeHierarchySupertypesRequest={}));(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=hn.MessageDirection.clientToServer,t.type=new hn.ProtocolRequestType(t.method);})(je.TypeHierarchySubtypesRequest||(je.TypeHierarchySubtypesRequest={}));});var Pu=c(mt=>{j();h$1();Object.defineProperty(mt,"__esModule",{value:!0});mt.InlineValueRefreshRequest=mt.InlineValueRequest=void 0;var Ur=$();(function(t){t.method="textDocument/inlineValue",t.messageDirection=Ur.MessageDirection.clientToServer,t.type=new Ur.ProtocolRequestType(t.method);})(mt.InlineValueRequest||(mt.InlineValueRequest={}));(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=Ur.MessageDirection.serverToClient,t.type=new Ur.ProtocolRequestType0(t.method);})(mt.InlineValueRefreshRequest||(mt.InlineValueRefreshRequest={}));});var Su=c(Ae=>{j();h$1();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.InlayHintRefreshRequest=Ae.InlayHintResolveRequest=Ae.InlayHintRequest=void 0;var pn=$();(function(t){t.method="textDocument/inlayHint",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolRequestType(t.method);})(Ae.InlayHintRequest||(Ae.InlayHintRequest={}));(function(t){t.method="inlayHint/resolve",t.messageDirection=pn.MessageDirection.clientToServer,t.type=new pn.ProtocolRequestType(t.method);})(Ae.InlayHintResolveRequest||(Ae.InlayHintResolveRequest={}));(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=pn.MessageDirection.serverToClient,t.type=new pn.ProtocolRequestType0(t.method);})(Ae.InlayHintRefreshRequest||(Ae.InlayHintRefreshRequest={}));});var qu=c(ae=>{j();h$1();Object.defineProperty(ae,"__esModule",{value:!0});ae.DiagnosticRefreshRequest=ae.WorkspaceDiagnosticRequest=ae.DocumentDiagnosticRequest=ae.DocumentDiagnosticReportKind=ae.DiagnosticServerCancellationData=void 0;var Tu=on(),Dh=Lr(),gn=$();(function(t){function e(n){let r=n;return r&&Dh.boolean(r.retriggerRequest)}t.is=e;})(ae.DiagnosticServerCancellationData||(ae.DiagnosticServerCancellationData={}));(function(t){t.Full="full",t.Unchanged="unchanged";})(ae.DocumentDiagnosticReportKind||(ae.DocumentDiagnosticReportKind={}));(function(t){t.method="textDocument/diagnostic",t.messageDirection=gn.MessageDirection.clientToServer,t.type=new gn.ProtocolRequestType(t.method),t.partialResult=new Tu.ProgressType;})(ae.DocumentDiagnosticRequest||(ae.DocumentDiagnosticRequest={}));(function(t){t.method="workspace/diagnostic",t.messageDirection=gn.MessageDirection.clientToServer,t.type=new gn.ProtocolRequestType(t.method),t.partialResult=new Tu.ProgressType;})(ae.WorkspaceDiagnosticRequest||(ae.WorkspaceDiagnosticRequest={}));(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=gn.MessageDirection.serverToClient,t.type=new gn.ProtocolRequestType0(t.method);})(ae.DiagnosticRefreshRequest||(ae.DiagnosticRefreshRequest={}));});var ku=c(N=>{j();h$1();Object.defineProperty(N,"__esModule",{value:!0});N.DidCloseNotebookDocumentNotification=N.DidSaveNotebookDocumentNotification=N.DidChangeNotebookDocumentNotification=N.NotebookCellArrayChange=N.DidOpenNotebookDocumentNotification=N.NotebookDocumentSyncRegistrationType=N.NotebookDocument=N.NotebookCell=N.ExecutionSummary=N.NotebookCellKind=void 0;var Vn=(Ar(),f(jr)),Le=Lr(),$e=$(),xu;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e;})(xu=N.NotebookCellKind||(N.NotebookCellKind={}));var Du;(function(t){function e(i,s){let o={executionOrder:i};return (s===!0||s===!1)&&(o.success=s),o}t.create=e;function n(i){let s=i;return Le.objectLiteral(s)&&Vn.uinteger.is(s.executionOrder)&&(s.success===void 0||Le.boolean(s.success))}t.is=n;function r(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}t.equals=r;})(Du=N.ExecutionSummary||(N.ExecutionSummary={}));var Jo;(function(t){function e(s,o){return {kind:s,document:o}}t.create=e;function n(s){let o=s;return Le.objectLiteral(o)&&xu.is(o.kind)&&Vn.DocumentUri.is(o.document)&&(o.metadata===void 0||Le.objectLiteral(o.metadata))}t.is=n;function r(s,o){let c=new Set;return s.document!==o.document&&c.add("document"),s.kind!==o.kind&&c.add("kind"),s.executionSummary!==o.executionSummary&&c.add("executionSummary"),(s.metadata!==void 0||o.metadata!==void 0)&&!i(s.metadata,o.metadata)&&c.add("metadata"),(s.executionSummary!==void 0||o.executionSummary!==void 0)&&!Du.equals(s.executionSummary,o.executionSummary)&&c.add("executionSummary"),c}t.diff=r;function i(s,o){if(s===o)return !0;if(s==null||o===null||o===void 0||typeof s!=typeof o||typeof s!="object")return !1;let c=Array.isArray(s),l=Array.isArray(o);if(c!==l)return !1;if(c&&l){if(s.length!==o.length)return !1;for(let a=0;a<s.length;a++)if(!i(s[a],o[a]))return !1}if(Le.objectLiteral(s)&&Le.objectLiteral(o)){let a=Object.keys(s),d=Object.keys(o);if(a.length!==d.length||(a.sort(),d.sort(),!i(a,d)))return !1;for(let p=0;p<a.length;p++){let R=a[p];if(!i(s[R],o[R]))return !1}}return !0}})(Jo=N.NotebookCell||(N.NotebookCell={}));(function(t){function e(r,i,s,o){return {uri:r,notebookType:i,version:s,cells:o}}t.create=e;function n(r){let i=r;return Le.objectLiteral(i)&&Le.string(i.uri)&&Vn.integer.is(i.version)&&Le.typedArray(i.cells,Jo.is)}t.is=n;})(N.NotebookDocument||(N.NotebookDocument={}));var Gn;(function(t){t.method="notebookDocument/sync",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.RegistrationType(t.method);})(Gn=N.NotebookDocumentSyncRegistrationType||(N.NotebookDocumentSyncRegistrationType={}));(function(t){t.method="notebookDocument/didOpen",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=Gn.method;})(N.DidOpenNotebookDocumentNotification||(N.DidOpenNotebookDocumentNotification={}));(function(t){function e(r){let i=r;return Le.objectLiteral(i)&&Vn.uinteger.is(i.start)&&Vn.uinteger.is(i.deleteCount)&&(i.cells===void 0||Le.typedArray(i.cells,Jo.is))}t.is=e;function n(r,i,s){let o={start:r,deleteCount:i};return s!==void 0&&(o.cells=s),o}t.create=n;})(N.NotebookCellArrayChange||(N.NotebookCellArrayChange={}));(function(t){t.method="notebookDocument/didChange",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=Gn.method;})(N.DidChangeNotebookDocumentNotification||(N.DidChangeNotebookDocumentNotification={}));(function(t){t.method="notebookDocument/didSave",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=Gn.method;})(N.DidSaveNotebookDocumentNotification||(N.DidSaveNotebookDocumentNotification={}));(function(t){t.method="notebookDocument/didClose",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=Gn.method;})(N.DidCloseNotebookDocumentNotification||(N.DidCloseNotebookDocumentNotification={}));});var Lu=c(u=>{j();h$1();Object.defineProperty(u,"__esModule",{value:!0});u.WorkspaceSymbolRequest=u.CodeActionResolveRequest=u.CodeActionRequest=u.DocumentSymbolRequest=u.DocumentHighlightRequest=u.ReferencesRequest=u.DefinitionRequest=u.SignatureHelpRequest=u.SignatureHelpTriggerKind=u.HoverRequest=u.CompletionResolveRequest=u.CompletionRequest=u.CompletionTriggerKind=u.PublishDiagnosticsNotification=u.WatchKind=u.RelativePattern=u.FileChangeType=u.DidChangeWatchedFilesNotification=u.WillSaveTextDocumentWaitUntilRequest=u.WillSaveTextDocumentNotification=u.TextDocumentSaveReason=u.DidSaveTextDocumentNotification=u.DidCloseTextDocumentNotification=u.DidChangeTextDocumentNotification=u.TextDocumentContentChangeEvent=u.DidOpenTextDocumentNotification=u.TextDocumentSyncKind=u.TelemetryEventNotification=u.LogMessageNotification=u.ShowMessageRequest=u.ShowMessageNotification=u.MessageType=u.DidChangeConfigurationNotification=u.ExitNotification=u.ShutdownRequest=u.InitializedNotification=u.InitializeErrorCodes=u.InitializeRequest=u.WorkDoneProgressOptions=u.TextDocumentRegistrationOptions=u.StaticRegistrationOptions=u.PositionEncodingKind=u.FailureHandlingKind=u.ResourceOperationKind=u.UnregistrationRequest=u.RegistrationRequest=u.DocumentSelector=u.NotebookCellTextDocumentFilter=u.NotebookDocumentFilter=u.TextDocumentFilter=void 0;u.TypeHierarchySubtypesRequest=u.TypeHierarchyPrepareRequest=u.MonikerRequest=u.MonikerKind=u.UniquenessLevel=u.WillDeleteFilesRequest=u.DidDeleteFilesNotification=u.WillRenameFilesRequest=u.DidRenameFilesNotification=u.WillCreateFilesRequest=u.DidCreateFilesNotification=u.FileOperationPatternKind=u.LinkedEditingRangeRequest=u.ShowDocumentRequest=u.SemanticTokensRegistrationType=u.SemanticTokensRefreshRequest=u.SemanticTokensRangeRequest=u.SemanticTokensDeltaRequest=u.SemanticTokensRequest=u.TokenFormat=u.CallHierarchyPrepareRequest=u.CallHierarchyOutgoingCallsRequest=u.CallHierarchyIncomingCallsRequest=u.WorkDoneProgressCancelNotification=u.WorkDoneProgressCreateRequest=u.WorkDoneProgress=u.SelectionRangeRequest=u.DeclarationRequest=u.FoldingRangeRequest=u.ColorPresentationRequest=u.DocumentColorRequest=u.ConfigurationRequest=u.DidChangeWorkspaceFoldersNotification=u.WorkspaceFoldersRequest=u.TypeDefinitionRequest=u.ImplementationRequest=u.ApplyWorkspaceEditRequest=u.ExecuteCommandRequest=u.PrepareRenameRequest=u.RenameRequest=u.PrepareSupportDefaultBehavior=u.DocumentOnTypeFormattingRequest=u.DocumentRangeFormattingRequest=u.DocumentFormattingRequest=u.DocumentLinkResolveRequest=u.DocumentLinkRequest=u.CodeLensRefreshRequest=u.CodeLensResolveRequest=u.CodeLensRequest=u.WorkspaceSymbolResolveRequest=void 0;u.DidCloseNotebookDocumentNotification=u.DidSaveNotebookDocumentNotification=u.DidChangeNotebookDocumentNotification=u.NotebookCellArrayChange=u.DidOpenNotebookDocumentNotification=u.NotebookDocumentSyncRegistrationType=u.NotebookDocument=u.NotebookCell=u.ExecutionSummary=u.NotebookCellKind=u.DiagnosticRefreshRequest=u.WorkspaceDiagnosticRequest=u.DocumentDiagnosticRequest=u.DocumentDiagnosticReportKind=u.DiagnosticServerCancellationData=u.InlayHintRefreshRequest=u.InlayHintResolveRequest=u.InlayHintRequest=u.InlineValueRefreshRequest=u.InlineValueRequest=u.TypeHierarchySupertypesRequest=void 0;var w=$(),Cu=(Ar(),f(jr)),ce=Lr(),Bh=Yc();Object.defineProperty(u,"ImplementationRequest",{enumerable:!0,get:function(){return Bh.ImplementationRequest}});var Wh=tu();Object.defineProperty(u,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Wh.TypeDefinitionRequest}});var Eu=nu();Object.defineProperty(u,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Eu.WorkspaceFoldersRequest}});Object.defineProperty(u,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Eu.DidChangeWorkspaceFoldersNotification}});var Jh=iu();Object.defineProperty(u,"ConfigurationRequest",{enumerable:!0,get:function(){return Jh.ConfigurationRequest}});var Ou=su();Object.defineProperty(u,"DocumentColorRequest",{enumerable:!0,get:function(){return Ou.DocumentColorRequest}});Object.defineProperty(u,"ColorPresentationRequest",{enumerable:!0,get:function(){return Ou.ColorPresentationRequest}});var Uh=au();Object.defineProperty(u,"FoldingRangeRequest",{enumerable:!0,get:function(){return Uh.FoldingRangeRequest}});var Hh=uu();Object.defineProperty(u,"DeclarationRequest",{enumerable:!0,get:function(){return Hh.DeclarationRequest}});var $h=fu();Object.defineProperty(u,"SelectionRangeRequest",{enumerable:!0,get:function(){return $h.SelectionRangeRequest}});var Uo=du();Object.defineProperty(u,"WorkDoneProgress",{enumerable:!0,get:function(){return Uo.WorkDoneProgress}});Object.defineProperty(u,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Uo.WorkDoneProgressCreateRequest}});Object.defineProperty(u,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Uo.WorkDoneProgressCancelNotification}});var Ho=hu();Object.defineProperty(u,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Ho.CallHierarchyIncomingCallsRequest}});Object.defineProperty(u,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Ho.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(u,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Ho.CallHierarchyPrepareRequest}});var mn=pu();Object.defineProperty(u,"TokenFormat",{enumerable:!0,get:function(){return mn.TokenFormat}});Object.defineProperty(u,"SemanticTokensRequest",{enumerable:!0,get:function(){return mn.SemanticTokensRequest}});Object.defineProperty(u,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return mn.SemanticTokensDeltaRequest}});Object.defineProperty(u,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return mn.SemanticTokensRangeRequest}});Object.defineProperty(u,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return mn.SemanticTokensRefreshRequest}});Object.defineProperty(u,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return mn.SemanticTokensRegistrationType}});var zh=mu();Object.defineProperty(u,"ShowDocumentRequest",{enumerable:!0,get:function(){return zh.ShowDocumentRequest}});var Vh=vu();Object.defineProperty(u,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Vh.LinkedEditingRangeRequest}});var It=bu();Object.defineProperty(u,"FileOperationPatternKind",{enumerable:!0,get:function(){return It.FileOperationPatternKind}});Object.defineProperty(u,"DidCreateFilesNotification",{enumerable:!0,get:function(){return It.DidCreateFilesNotification}});Object.defineProperty(u,"WillCreateFilesRequest",{enumerable:!0,get:function(){return It.WillCreateFilesRequest}});Object.defineProperty(u,"DidRenameFilesNotification",{enumerable:!0,get:function(){return It.DidRenameFilesNotification}});Object.defineProperty(u,"WillRenameFilesRequest",{enumerable:!0,get:function(){return It.WillRenameFilesRequest}});Object.defineProperty(u,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return It.DidDeleteFilesNotification}});Object.defineProperty(u,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return It.WillDeleteFilesRequest}});var $o=Ru();Object.defineProperty(u,"UniquenessLevel",{enumerable:!0,get:function(){return $o.UniquenessLevel}});Object.defineProperty(u,"MonikerKind",{enumerable:!0,get:function(){return $o.MonikerKind}});Object.defineProperty(u,"MonikerRequest",{enumerable:!0,get:function(){return $o.MonikerRequest}});var zo=_u();Object.defineProperty(u,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return zo.TypeHierarchyPrepareRequest}});Object.defineProperty(u,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return zo.TypeHierarchySubtypesRequest}});Object.defineProperty(u,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return zo.TypeHierarchySupertypesRequest}});var Nu=Pu();Object.defineProperty(u,"InlineValueRequest",{enumerable:!0,get:function(){return Nu.InlineValueRequest}});Object.defineProperty(u,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return Nu.InlineValueRefreshRequest}});var Vo=Su();Object.defineProperty(u,"InlayHintRequest",{enumerable:!0,get:function(){return Vo.InlayHintRequest}});Object.defineProperty(u,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Vo.InlayHintResolveRequest}});Object.defineProperty(u,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Vo.InlayHintRefreshRequest}});var Qn=qu();Object.defineProperty(u,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Qn.DiagnosticServerCancellationData}});Object.defineProperty(u,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Qn.DocumentDiagnosticReportKind}});Object.defineProperty(u,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Qn.DocumentDiagnosticRequest}});Object.defineProperty(u,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Qn.WorkspaceDiagnosticRequest}});Object.defineProperty(u,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Qn.DiagnosticRefreshRequest}});var ze=ku();Object.defineProperty(u,"NotebookCellKind",{enumerable:!0,get:function(){return ze.NotebookCellKind}});Object.defineProperty(u,"ExecutionSummary",{enumerable:!0,get:function(){return ze.ExecutionSummary}});Object.defineProperty(u,"NotebookCell",{enumerable:!0,get:function(){return ze.NotebookCell}});Object.defineProperty(u,"NotebookDocument",{enumerable:!0,get:function(){return ze.NotebookDocument}});Object.defineProperty(u,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return ze.NotebookDocumentSyncRegistrationType}});Object.defineProperty(u,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return ze.DidOpenNotebookDocumentNotification}});Object.defineProperty(u,"NotebookCellArrayChange",{enumerable:!0,get:function(){return ze.NotebookCellArrayChange}});Object.defineProperty(u,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return ze.DidChangeNotebookDocumentNotification}});Object.defineProperty(u,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return ze.DidSaveNotebookDocumentNotification}});Object.defineProperty(u,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return ze.DidCloseNotebookDocumentNotification}});var Mu;(function(t){function e(n){let r=n;return ce.string(r.language)||ce.string(r.scheme)||ce.string(r.pattern)}t.is=e;})(Mu=u.TextDocumentFilter||(u.TextDocumentFilter={}));var Iu;(function(t){function e(n){let r=n;return ce.objectLiteral(r)&&(ce.string(r.notebookType)||ce.string(r.scheme)||ce.string(r.pattern))}t.is=e;})(Iu=u.NotebookDocumentFilter||(u.NotebookDocumentFilter={}));var ju;(function(t){function e(n){let r=n;return ce.objectLiteral(r)&&(ce.string(r.notebook)||Iu.is(r.notebook))&&(r.language===void 0||ce.string(r.language))}t.is=e;})(ju=u.NotebookCellTextDocumentFilter||(u.NotebookCellTextDocumentFilter={}));var Au;(function(t){function e(n){if(!Array.isArray(n))return !1;for(let r of n)if(!ce.string(r)&&!Mu.is(r)&&!ju.is(r))return !1;return !0}t.is=e;})(Au=u.DocumentSelector||(u.DocumentSelector={}));(function(t){t.method="client/registerCapability",t.messageDirection=w.MessageDirection.serverToClient,t.type=new w.ProtocolRequestType(t.method);})(u.RegistrationRequest||(u.RegistrationRequest={}));(function(t){t.method="client/unregisterCapability",t.messageDirection=w.MessageDirection.serverToClient,t.type=new w.ProtocolRequestType(t.method);})(u.UnregistrationRequest||(u.UnregistrationRequest={}));(function(t){t.Create="create",t.Rename="rename",t.Delete="delete";})(u.ResourceOperationKind||(u.ResourceOperationKind={}));(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo";})(u.FailureHandlingKind||(u.FailureHandlingKind={}));(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32";})(u.PositionEncodingKind||(u.PositionEncodingKind={}));(function(t){function e(n){let r=n;return r&&ce.string(r.id)&&r.id.length>0}t.hasId=e;})(u.StaticRegistrationOptions||(u.StaticRegistrationOptions={}));(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||Au.is(r.documentSelector))}t.is=e;})(u.TextDocumentRegistrationOptions||(u.TextDocumentRegistrationOptions={}));(function(t){function e(r){let i=r;return ce.objectLiteral(i)&&(i.workDoneProgress===void 0||ce.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&ce.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n;})(u.WorkDoneProgressOptions||(u.WorkDoneProgressOptions={}));(function(t){t.method="initialize",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.InitializeRequest||(u.InitializeRequest={}));(function(t){t.unknownProtocolVersion=1;})(u.InitializeErrorCodes||(u.InitializeErrorCodes={}));(function(t){t.method="initialized",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolNotificationType(t.method);})(u.InitializedNotification||(u.InitializedNotification={}));(function(t){t.method="shutdown",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType0(t.method);})(u.ShutdownRequest||(u.ShutdownRequest={}));(function(t){t.method="exit",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolNotificationType0(t.method);})(u.ExitNotification||(u.ExitNotification={}));(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolNotificationType(t.method);})(u.DidChangeConfigurationNotification||(u.DidChangeConfigurationNotification={}));(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4;})(u.MessageType||(u.MessageType={}));(function(t){t.method="window/showMessage",t.messageDirection=w.MessageDirection.serverToClient,t.type=new w.ProtocolNotificationType(t.method);})(u.ShowMessageNotification||(u.ShowMessageNotification={}));(function(t){t.method="window/showMessageRequest",t.messageDirection=w.MessageDirection.serverToClient,t.type=new w.ProtocolRequestType(t.method);})(u.ShowMessageRequest||(u.ShowMessageRequest={}));(function(t){t.method="window/logMessage",t.messageDirection=w.MessageDirection.serverToClient,t.type=new w.ProtocolNotificationType(t.method);})(u.LogMessageNotification||(u.LogMessageNotification={}));(function(t){t.method="telemetry/event",t.messageDirection=w.MessageDirection.serverToClient,t.type=new w.ProtocolNotificationType(t.method);})(u.TelemetryEventNotification||(u.TelemetryEventNotification={}));(function(t){t.None=0,t.Full=1,t.Incremental=2;})(u.TextDocumentSyncKind||(u.TextDocumentSyncKind={}));(function(t){t.method="textDocument/didOpen",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolNotificationType(t.method);})(u.DidOpenTextDocumentNotification||(u.DidOpenTextDocumentNotification={}));(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n;})(u.TextDocumentContentChangeEvent||(u.TextDocumentContentChangeEvent={}));(function(t){t.method="textDocument/didChange",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolNotificationType(t.method);})(u.DidChangeTextDocumentNotification||(u.DidChangeTextDocumentNotification={}));(function(t){t.method="textDocument/didClose",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolNotificationType(t.method);})(u.DidCloseTextDocumentNotification||(u.DidCloseTextDocumentNotification={}));(function(t){t.method="textDocument/didSave",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolNotificationType(t.method);})(u.DidSaveTextDocumentNotification||(u.DidSaveTextDocumentNotification={}));(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3;})(u.TextDocumentSaveReason||(u.TextDocumentSaveReason={}));(function(t){t.method="textDocument/willSave",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolNotificationType(t.method);})(u.WillSaveTextDocumentNotification||(u.WillSaveTextDocumentNotification={}));(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.WillSaveTextDocumentWaitUntilRequest||(u.WillSaveTextDocumentWaitUntilRequest={}));(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolNotificationType(t.method);})(u.DidChangeWatchedFilesNotification||(u.DidChangeWatchedFilesNotification={}));(function(t){t.Created=1,t.Changed=2,t.Deleted=3;})(u.FileChangeType||(u.FileChangeType={}));(function(t){function e(n){let r=n;return ce.objectLiteral(r)&&(Cu.URI.is(r.baseUri)||Cu.WorkspaceFolder.is(r.baseUri))&&ce.string(r.pattern)}t.is=e;})(u.RelativePattern||(u.RelativePattern={}));(function(t){t.Create=1,t.Change=2,t.Delete=4;})(u.WatchKind||(u.WatchKind={}));(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=w.MessageDirection.serverToClient,t.type=new w.ProtocolNotificationType(t.method);})(u.PublishDiagnosticsNotification||(u.PublishDiagnosticsNotification={}));(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3;})(u.CompletionTriggerKind||(u.CompletionTriggerKind={}));(function(t){t.method="textDocument/completion",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.CompletionRequest||(u.CompletionRequest={}));(function(t){t.method="completionItem/resolve",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.CompletionResolveRequest||(u.CompletionResolveRequest={}));(function(t){t.method="textDocument/hover",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.HoverRequest||(u.HoverRequest={}));(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3;})(u.SignatureHelpTriggerKind||(u.SignatureHelpTriggerKind={}));(function(t){t.method="textDocument/signatureHelp",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.SignatureHelpRequest||(u.SignatureHelpRequest={}));(function(t){t.method="textDocument/definition",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.DefinitionRequest||(u.DefinitionRequest={}));(function(t){t.method="textDocument/references",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.ReferencesRequest||(u.ReferencesRequest={}));(function(t){t.method="textDocument/documentHighlight",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.DocumentHighlightRequest||(u.DocumentHighlightRequest={}));(function(t){t.method="textDocument/documentSymbol",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.DocumentSymbolRequest||(u.DocumentSymbolRequest={}));(function(t){t.method="textDocument/codeAction",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.CodeActionRequest||(u.CodeActionRequest={}));(function(t){t.method="codeAction/resolve",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.CodeActionResolveRequest||(u.CodeActionResolveRequest={}));(function(t){t.method="workspace/symbol",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.WorkspaceSymbolRequest||(u.WorkspaceSymbolRequest={}));(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.WorkspaceSymbolResolveRequest||(u.WorkspaceSymbolResolveRequest={}));(function(t){t.method="textDocument/codeLens",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.CodeLensRequest||(u.CodeLensRequest={}));(function(t){t.method="codeLens/resolve",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.CodeLensResolveRequest||(u.CodeLensResolveRequest={}));(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=w.MessageDirection.serverToClient,t.type=new w.ProtocolRequestType0(t.method);})(u.CodeLensRefreshRequest||(u.CodeLensRefreshRequest={}));(function(t){t.method="textDocument/documentLink",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.DocumentLinkRequest||(u.DocumentLinkRequest={}));(function(t){t.method="documentLink/resolve",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.DocumentLinkResolveRequest||(u.DocumentLinkResolveRequest={}));(function(t){t.method="textDocument/formatting",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.DocumentFormattingRequest||(u.DocumentFormattingRequest={}));(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.DocumentRangeFormattingRequest||(u.DocumentRangeFormattingRequest={}));(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.DocumentOnTypeFormattingRequest||(u.DocumentOnTypeFormattingRequest={}));(function(t){t.Identifier=1;})(u.PrepareSupportDefaultBehavior||(u.PrepareSupportDefaultBehavior={}));(function(t){t.method="textDocument/rename",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.RenameRequest||(u.RenameRequest={}));(function(t){t.method="textDocument/prepareRename",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.PrepareRenameRequest||(u.PrepareRenameRequest={}));(function(t){t.method="workspace/executeCommand",t.messageDirection=w.MessageDirection.clientToServer,t.type=new w.ProtocolRequestType(t.method);})(u.ExecuteCommandRequest||(u.ExecuteCommandRequest={}));(function(t){t.method="workspace/applyEdit",t.messageDirection=w.MessageDirection.serverToClient,t.type=new w.ProtocolRequestType("workspace/applyEdit");})(u.ApplyWorkspaceEditRequest||(u.ApplyWorkspaceEditRequest={}));});var Bu=c(Hr=>{j();h$1();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.createProtocolConnection=void 0;var Fu=on();function eg(t,e,n,r){return Fu.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0, Fu.createMessageConnection)(t,e,n,r)}Hr.createProtocolConnection=eg;});var Wu=c(ye=>{j();h$1();var tg=ye&&ye.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i);}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n];}),$r=ye&&ye.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&tg(e,t,n);};Object.defineProperty(ye,"__esModule",{value:!0});ye.LSPErrorCodes=ye.createProtocolConnection=void 0;$r(on(),ye);$r((Ar(),f(jr)),ye);$r($(),ye);$r(Lu(),ye);var ng=Bu();Object.defineProperty(ye,"createProtocolConnection",{enumerable:!0,get:function(){return ng.createProtocolConnection}});(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800;})(ye.LSPErrorCodes||(ye.LSPErrorCodes={}));});var Uu=c(Ve=>{j();h$1();var ig=Ve&&Ve.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i);}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n];}),Ju=Ve&&Ve.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ig(e,t,n);};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.createProtocolConnection=void 0;var sg=Ns();Ju(Ns(),Ve);Ju(Wu(),Ve);function og(t,e,n,r){return (0, sg.createMessageConnection)(t,e,n,r)}Ve.createProtocolConnection=og;});j();h$1();j();h$1();j();h$1();j();h$1();p();j();h$1();j();h$1();p();j();h$1();var vt=class extends Error{constructor(n,r,i){super(n);this.message=n,this.code=r,this.data=i,Object.setPrototypeOf(this,new.target.prototype);}},ei=t=>{if(t.error){let{message:e,code:n,data:r}=t.error;return new vt(e,n,r)}return new vt("Unknown error",7979,t)};var Yn=class{constructor(){this.pendingRequest={},this.pendingBatchRequest={},this.transportEventChannel=new n;}addRequest(e,n){return this.transportEventChannel.emit("pending",e),e instanceof Array?(this.addBatchReq(e,n),Promise.resolve()):this.addReq(e.internalID,n)}settlePendingRequest(e,n){e.forEach(r=>{let i=this.pendingRequest[r.internalID];if(delete this.pendingBatchRequest[r.internalID],i!==void 0){if(n){i.reject(n);return}i.resolve(),(r.request.id===null||r.request.id===void 0)&&delete this.pendingRequest[r.internalID];}});}isPendingRequest(e){return this.pendingRequest.hasOwnProperty(e)}resolveResponse(e,n=!0){let r=e;try{return r=JSON.parse(e),this.checkJSONRPC(r)===!1?void 0:r instanceof Array?this.resolveBatch(r,n):this.resolveRes(r,n)}catch{let s=new vt("Bad response format",7979,e);return n&&this.transportEventChannel.emit("error",s),s}}addBatchReq(e,n){return e.forEach(r=>{let{resolve:i,reject:s}=r,{internalID:o}=r.request;this.pendingBatchRequest[o]=!0,this.pendingRequest[o]={resolve:i,reject:s};}),Promise.resolve()}addReq(e,n){return new Promise((r,i)=>{n!==null&&n&&this.setRequestTimeout(e,n,i),this.pendingRequest[e]={resolve:r,reject:i};})}checkJSONRPC(e){let n=[e];return e instanceof Array&&(n=e),n.every(r=>r.result!==void 0||r.error!==void 0||r.method!==void 0)}processResult(e,n){if(e.error){let r=ei(e);n.reject(r);return}n.resolve(e.result);}resolveBatch(e,n){let i=e.map(s=>this.resolveRes(s,n)).filter(s=>s);if(i.length>0)return i[0]}resolveRes(e,n){let{id:r,error:i}=e,s=this.pendingRequest[r];if(s){delete this.pendingRequest[r],this.processResult(e,s),this.transportEventChannel.emit("response",e);return}if(r===void 0&&i===void 0){this.transportEventChannel.emit("notification",e);return}let o;return i&&(o=ei(e)),n&&i&&o&&this.transportEventChannel.emit("error",o),o}setRequestTimeout(e,n,r){setTimeout(()=>{delete this.pendingRequest[e],r(new vt(`Request timeout request took longer than ${n} ms to resolve`,7777));},n);}};var er=class{constructor(){this.transportRequestManager=new Yn,this.transportRequestManager.transportEventChannel.on("error",()=>{});}subscribe(e,n){this.transportRequestManager.transportEventChannel.addListener(e,n);}unsubscribe(e,n){if(!e)return this.transportRequestManager.transportEventChannel.removeAllListeners();e&&n&&this.transportRequestManager.transportEventChannel.removeListener(e,n);}parseData(e){return e instanceof Array?e.map(n=>n.request.request):e.request}};j();h$1();var da=t=>t.request.id===void 0||t.request.id===null;var ha=t=>t instanceof Array?t.filter(e=>da(e.request)).map(e=>e.request):da(t)?[t]:[];var bn=class extends er{constructor(n){super();this.messageHandler=n=>{console.log("<-",n.data),this.transportRequestManager.resolveResponse(JSON.stringify(n.data));};this.worker=n,this.postMessageID=`post-message-transport-${Math.random()}`;}connect(){return new Promise(async(n,r)=>{this.worker.addEventListener("message",this.messageHandler),n();})}async sendData(n,r=5e3){console.log("->",n);let i=this.transportRequestManager.addRequest(n,null),s=ha(n);return this.worker&&(this.worker.postMessage(n.request),this.transportRequestManager.settlePendingRequest(s)),i}close(){this.worker.terminate();}};j();h$1();j();h$1();var ne=class t{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Bt.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let r=[];return this.decompose(e,n,r,0),Bt.from(r,n-e)}eq(e){if(e==this)return !0;if(e.length!=this.length||e.lines!=this.lines)return !1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Rt(this),s=new Rt(e);for(let o=n,c=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return !1;if(c+=i.value.length,i.done||c>=r)return !0}}iter(e=1){return new Rt(this,e)}iterRange(e,n=this.length){return new ir(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else {n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to));}return new sr(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?t.empty:e.length<=32?new we(e):Bt.from(we.split(e,[]))}},we=class t extends ne{constructor(e,n=Rl(e)){super(),this.text=e,this.length=n;}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],c=i+o.length;if((n?r:c)>=e)return new ri(i,c,r,o);i=c+1,r++;}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new t(pa(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),c=rr(s.text,o.text.slice(),0,s.length);if(c.length<=32)r.push(new t(c,o.length+s.length));else {let l=c.length>>1;r.push(new t(c.slice(0,l)),new t(c.slice(l)));}}else r.push(s);}replace(e,n,r){if(!(r instanceof t))return super.replace(e,n,r);let i=rr(this.text,rr(r.text,pa(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new t(i,s):Bt.from(t.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let c=this.text[o],l=s+c.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=c.slice(Math.max(0,e-s),n-s)),s=l+1;}return i}flatten(e){for(let n of this.text)e.push(n);}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new t(r,i)),r=[],i=-1);return i>-1&&n.push(new t(r,i)),n}},Bt=class t extends ne{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines;}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],c=i+o.length,l=r+o.lines-1;if((n?l:c)>=e)return o.lineInner(e,n,r,i);i=c+1,r=l+1;}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let c=this.children[s],l=o+c.length;if(e<=l&&n>=o){let a=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!a?r.push(c):c.decompose(e-o,n-o,r,a);}o=l+1;}}replace(e,n,r){if(r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],c=s+o.length;if(e>=s&&n<=c){let l=o.replace(e-s,n-s,r),a=this.lines-o.lines+l.lines;if(l.lines<a>>5-1&&l.lines>a>>5+1){let d=this.children.slice();return d[i]=l,new t(d,this.length-(n-e)+r.length)}return super.replace(s,c,l)}s=c+1;}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let c=this.children[s],l=o+c.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=c.sliceString(e-o,n-o,r)),o=l+1;}return i}flatten(e){for(let n of this.children)n.flatten(e);}scanIdentical(e,n){if(!(e instanceof t))return 0;let r=0,[i,s,o,c]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==c)return r;let l=this.children[i],a=e.children[s];if(l!=a)return r+l.scanIdentical(a,n);r+=l.length+1;}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let b of e)r+=b.lines;if(r<32){let b=[];for(let C of e)C.flatten(b);return new we(b,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,c=[],l=0,a=-1,d=[];function p(b){let C;if(b.lines>s&&b instanceof t)for(let J of b.children)p(J);else b.lines>o&&(l>o||!l)?(R(),c.push(b)):b instanceof we&&l&&(C=d[d.length-1])instanceof we&&b.lines+C.lines<=32?(l+=b.lines,a+=b.length+1,d[d.length-1]=new we(C.text.concat(b.text),C.length+1+b.length)):(l+b.lines>i&&R(),l+=b.lines,a+=b.length+1,d.push(b));}function R(){l!=0&&(c.push(d.length==1?d[0]:t.from(d,a)),a=-1,l=d.length=0);}for(let b of e)p(b);return R(),c.length==1?c[0]:new t(c,n)}};ne.empty=new we([""],0);function Rl(t){let e=-1;for(let n of t)e+=n.length+1;return e}function rr(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let c=t[s],l=i+c.length;l>=n&&(l>r&&(c=c.slice(0,r-i)),i<n&&(c=c.slice(n-i)),o?(e[e.length-1]+=c,o=!1):e.push(c)),i=l+1;}return e}function pa(t,e,n){return rr(t,[""],e,n)}var Rt=class{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof we?e.text.length:e.children.length)<<1];}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,c=i instanceof we?i.text.length:i.children.length;if(o==(n>0?c:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop();}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--;}else if(i instanceof we){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length;}else {let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof we?l.text.length:l.children.length)<<1));}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}},ir=class{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Rt(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r);}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},sr=class{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1;}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return !1}};typeof Symbol<"u"&&(ne.prototype[Symbol.iterator]=function(){return this.iter()},Rt.prototype[Symbol.iterator]=ir.prototype[Symbol.iterator]=sr.prototype[Symbol.iterator]=function(){return this});var ri=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i;}get length(){return this.to-this.from}},Wt="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Wt.length;t++)Wt[t]+=Wt[t-1];var at=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(at||(at={}));var gi=0,re=class t{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=gi++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s;}static define(e={}){return new t(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:mi),!!e.static,e.enables)}of(e){return new Jt([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Jt(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Jt(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}};function mi(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}var Jt=class{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=gi++;}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,c=this.type==2,l=!1,a=!1,d=[];for(let p of this.dependencies)p=="doc"?l=!0:p=="selection"?a=!0:((n=e[p.id])!==null&&n!==void 0?n:1)&1||d.push(e[p.id]);return {create(p){return p.values[o]=r(p),1},update(p,R){if(l&&R.docChanged||a&&(R.docChanged||R.selection)||ai(p,d)){let b=r(p);if(c?!ba(b,p.values[o],i):!i(b,p.values[o]))return p.values[o]=b,1}return 0},reconfigure:(p,R)=>{let b,C=R.config.address[s];if(C!=null){let J=ur(R,C);if(this.dependencies.every(M=>M instanceof re?R.facet(M)===p.facet(M):M instanceof Ht?R.field(M,!1)==p.field(M,!1):!0)||(c?ba(b=r(p),J,i):i(b=r(p),J)))return p.values[o]=J,0}else b=r(p);return p.values[o]=b,1}}}};function ba(t,e,n){if(t.length!=e.length)return !1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return !1;return !0}function ai(t,e){let n=!1;for(let r of e)Rn(t,r)&1&&(n=!0);return n}var wa=re.define({static:!0}),Ht=class t{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0;}static define(e){let n=new t(gi++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(wa).find(r=>r.field==this);return (n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return {create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return [this,wa.of({field:this,create:e})]}get extension(){return this}};function Rn(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function ur(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}re.define();re.define({combine:t=>t.some(e=>e),static:!0});re.define({combine:t=>t.length?t[0]:void 0,static:!0});re.define();re.define();re.define();re.define({combine:t=>t.length?t[0]:!1});var ui=class{constructor(e){this.map=e;}of(e){return new de(this,e)}},de=class t{constructor(e,n){this.type=e,this.value=n;}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new t(this.type,n)}is(e){return this.type==e}static define(e={}){return new ui(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s);}return r}};de.reconfigure=de.define();de.appendConfig=de.define();var ut=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(ut||(ut={})),fi;try{fi=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u");}catch{}re.define({combine:t=>t.length?t[0]:4});re.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});de.define();at.TrackDel;var Pn=class t{constructor(e,n,r){this.from=e,this.to=n,this.value=r;}static create(e,n,r){return new t(e,n,r)}};function di(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}var hi=class t{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i;}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,c=s.length;;){if(o==c)return o;let l=o+c>>1,a=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return a>=0?o:c;a>=0?c=l:o=l+1;}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return !1}map(e,n){let r=[],i=[],s=[],o=-1,c=-1;for(let l=0;l<this.value.length;l++){let a=this.value[l],d=this.from[l]+e,p=this.to[l]+e,R,b;if(d==p){let C=n.mapPos(d,a.startSide,a.mapMode);if(C==null||(R=b=C,a.startSide!=a.endSide&&(b=n.mapPos(d,a.endSide),b<R)))continue}else if(R=n.mapPos(d,a.startSide),b=n.mapPos(p,a.endSide),R>b||R==b&&a.startSide>0&&a.endSide<=0)continue;(b-R||a.endSide-a.startSide)<0||(o<0&&(o=R),a.point&&(c=Math.max(c,b-R)),r.push(a),i.push(R-o),s.push(b-o));}return {mapped:r.length?new t(i,s,r,c):null,pos:o}}},lt=class t{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i;}static create(e,n,r,i){return new t(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(di)),this.isEmpty)return n.length?t.of(n):this;let c=new fr(this,null,-1).goto(0),l=0,a=[],d=new lr;for(;c.value||l<n.length;)if(l<n.length&&(c.from-n[l].from||c.startSide-n[l].value.startSide)>=0){let p=n[l++];d.addInner(p.from,p.to,p.value)||a.push(p);}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(c.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(c.chunkIndex)||s<this.chunkPos[c.chunkIndex])&&d.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!o||i>c.to||s<c.from||o(c.from,c.to,c.value))&&(d.addInner(c.from,c.to,c.value)||a.push(Pn.create(c.from,c.to,c.value))),c.next());return d.finishInner(this.nextLayer.isEmpty&&!a.length?t.empty:this.nextLayer.update({add:a,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let c=this.chunkPos[o],l=this.chunk[o],a=e.touchesRange(c,c+l.length);if(a===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(c));else if(a===!0){let{mapped:d,pos:p}=l.map(c,e);d&&(i=Math.max(i,d.maxPoint),n.push(d),r.push(p));}}let s=this.nextLayer.map(e);return n.length==0?s:new t(r,n,s||t.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r);}}iter(e=0){return Sn.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Sn.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),c=n.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),l=Ra(o,c,r),a=new wt(o,l,s),d=new wt(c,l,s);r.iterGaps((p,R,b)=>_a(a,p,d,R,b,i)),r.empty&&r.length==0&&_a(a,0,d,0,0,i);}static eq(e,n,r=0,i){i==null&&(i=1e9-1);let s=e.filter(d=>!d.isEmpty&&n.indexOf(d)<0),o=n.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=o.length)return !1;if(!s.length)return !0;let c=Ra(s,o),l=new wt(s,c,0).goto(r),a=new wt(o,c,0).goto(r);for(;;){if(l.to!=a.to||!pi(l.active,a.active)||l.point&&(!a.point||!l.point.eq(a.point)))return !1;if(l.to>i)return !0;l.next(),a.next();}}static spans(e,n,r,i,s=-1){let o=new wt(e,null,s).goto(n),c=n,l=o.openStart;for(;;){let a=Math.min(o.to,r);if(o.point){let d=o.activeForPoint(o.to),p=o.pointFrom<n?d.length+1:Math.min(d.length,l);i.point(c,a,o.point,d,p,o.pointRank),l=Math.min(o.openEnd(a),d.length);}else a>c&&(i.span(c,a,o.active,l),l=o.openEnd(a));if(o.to>r)return l+(o.point&&o.to>r?1:0);c=o.to,o.next();}}static of(e,n=!1){let r=new lr;for(let i of e instanceof Pn?[e]:n?Nl(e):e)r.add(i.from,i.to,i.value);return r.finish()}};lt.empty=new lt([],[],null,-1);function Nl(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(di(e,r)>0)return t.slice().sort(di);e=r;}return t}lt.empty.nextLayer=lt.empty;var lr=class t{finishChunk(e){this.chunks.push(new hi(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[]);}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null;}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new t)).add(e,n,r);}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return !1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(lt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=lt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}};function Ra(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let c=r.get(s.chunk[o]);c!=null&&(n?n.mapPos(c):c)==s.chunkPos[o]&&!n?.touchesRange(c,c+s.chunk[o].length)&&i.add(s.chunk[o]);}return i}var fr=class{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i;}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1;}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i);}this.next();}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0);}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else {let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0;}else this.rangeIndex=e;}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next();}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}},Sn=class t{constructor(e){this.heap=e;}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new fr(o,n,r,s));return i.length==1?i[0]:new t(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)ni(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)ni(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next();}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else {let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),ni(this.heap,0);}}};function ni(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r;}}var wt=class{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Sn.from(e,n,r);}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n);}removeActive(e){tr(this.active,e),tr(this.activeTo,e),tr(this.activeRank,e),this.minActive=Pa(this.active,this.activeTo);}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=s;)n++;nr(this.active,n,r),nr(this.activeTo,n,i),nr(this.activeRank,n,s),e&&nr(e,n,this.cursor.from),this.minActive=Pa(this.active,this.activeTo);}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&tr(r,i);}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else {let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else {this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else {this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++;}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}};function _a(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,c=r,l=r-e;for(;;){let a=t.to+l-n.to||t.endSide-n.endSide,d=a<0?t.to+l:n.to,p=Math.min(d,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&pi(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(c,p,t.point,n.point):p>c&&!pi(t.active,n.active)&&s.compareRange(c,p,t.active,n.active),d>o)break;c=d,a<=0&&t.next(),a>=0&&n.next();}}function pi(t,e){if(t.length!=e.length)return !1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return !1;return !0}function tr(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop();}function nr(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n;}function Pa(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}var Xn=e(yc()),Vr=e(Uu()),Go=1e4;Object.fromEntries(Object.entries(Vr.CompletionItemKind).map(([t,e])=>[e,t]));var Qo=t=>t.reduce((e,n)=>n,"");re.define({combine:Qo});re.define({combine:Qo});re.define({combine:Qo});var zr=class{constructor(e){this.rootUri=e.rootUri,this.workspaceFolders=e.workspaceFolders,this.autoClose=e.autoClose,this.plugins=[],this.transport=e.transport,this.requestManager=new Xn.RequestManager([this.transport]),this.client=new Xn.Client(this.requestManager),this.client.onNotification(r=>{this.processNotification(r);});let n=this.transport;n&&n.connection&&n.connection.addEventListener("message",r=>{let i=JSON.parse(r.data);i.method&&i.id&&n.connection.send(JSON.stringify({jsonrpc:"2.0",id:i.id,result:null}));}),this.initializePromise=this.initialize();}async initialize(){let{capabilities:e}=await this.request("initialize",{capabilities:{textDocument:{hover:{dynamicRegistration:!0,contentFormat:["plaintext","markdown"]},moniker:{},synchronization:{dynamicRegistration:!0,willSave:!1,didSave:!1,willSaveWaitUntil:!1},completion:{dynamicRegistration:!0,completionItem:{snippetSupport:!1,commitCharactersSupport:!0,documentationFormat:["plaintext","markdown"],deprecatedSupport:!1,preselectSupport:!1},contextSupport:!1},signatureHelp:{dynamicRegistration:!0,signatureInformation:{documentationFormat:["plaintext","markdown"]}},declaration:{dynamicRegistration:!0,linkSupport:!0},definition:{dynamicRegistration:!0,linkSupport:!0},typeDefinition:{dynamicRegistration:!0,linkSupport:!0},implementation:{dynamicRegistration:!0,linkSupport:!0}},workspace:{didChangeConfiguration:{dynamicRegistration:!0}}},initializationOptions:null,processId:null,rootUri:this.rootUri,workspaceFolders:this.workspaceFolders},Go*3);this.capabilities=e,this.notify("initialized",{}),this.ready=!0;}close(){this.client.close();}textDocumentDidOpen(e){return this.notify("textDocument/didOpen",e)}textDocumentDidChange(e){return this.notify("textDocument/didChange",e)}async textDocumentHover(e){return await this.request("textDocument/hover",e,Go)}async textDocumentCompletion(e){return await this.request("textDocument/completion",e,Go)}attachPlugin(e){this.plugins.push(e);}detachPlugin(e){let n=this.plugins.indexOf(e);n!==-1&&(this.plugins.splice(n,1),this.autoClose&&this.close());}request(e,n,r){return this.client.request({method:e,params:n},r)}notify(e,n){return this.client.notify({method:e,params:n})}processNotification(e){for(let n of this.plugins)n.processNotification(e);}};var Xo=class extends bn{constructor(n,r){let i;switch(typeof n){case"string":i=new Worker(n);break;default:{if(n instanceof Worker){i=n;break}if(n instanceof URL){i=new Worker(n);break}throw new Error(`Invalid worker type. Expected string, URL, or Worker. Received ${typeof n}`)}}super(i);this.options=r;this.internalMessageId=0;this.rpcQueue=new Map;this.client=()=>(this.langClient||(this.langClient=new zr({transport:this,...this.options})),this.langClient);this.onMessage=this.onMessage.bind(this),this.worker.addEventListener("message",this.onMessage),this.worker.onerror=s=>{console.error(s);},this.worker.onmessageerror=s=>{console.error(s);};}addFiles(n,r){if(typeof n=="object")return this.sendAddFiles(n);if(typeof n=="string"&&typeof r=="string")return this.sendAddFiles({[n]:r});throw new Error("Invalid arguments")}fetchTypes(n){return this.sendFetchTypes(n)}setup(n,r){if(typeof n=="object")return this.sendSetup(n);if(typeof n=="string"&&typeof r=="string")return this.sendSetup({[n]:r});throw new Error("Invalid arguments")}deleteFile(n){return this.sendDeleteFile(n)}sendDeleteFile(n){return new Promise((r,i)=>{let s=this.internalMessageId++;this.rpcQueue.set(s,r),this.worker.postMessage({id:s,method:"@@delete-file",params:{fileName:n}});})}onMessage(n){let r=n.data;if(!(r&&typeof r=="object"&&"jsonrpc"in r)&&r&&typeof r=="object"&&"method"in r&&"complete"in r){let i=r.method;switch(i){case"@@setup":case"@@add-files":case"@@fetch-types":this.rpcQueue.get(r.id)?.(r.complete),this.rpcQueue.delete(r.id);return;default:throw new Error(`Unknown RPC method ${i}`)}}}sendAddFiles(n){return new Promise((i,s)=>{let o=this.internalMessageId++;this.rpcQueue.set(o,i),this.worker.postMessage({params:n,id:o,method:"@@add-files"});})}sendFetchTypes(n){return new Promise((r,i)=>{let s=this.internalMessageId++;this.rpcQueue.set(s,r),this.worker.postMessage({id:s,method:"@@fetch-types",params:n});})}async sendSetup(n){return new Promise((i,s)=>{let o=this.internalMessageId++;this.rpcQueue.set(o,i),this.worker.postMessage({params:n,id:o,method:"@@setup"});}).then(i=>this.client())}};

export { Xo as SvelteWorkerRPC };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map